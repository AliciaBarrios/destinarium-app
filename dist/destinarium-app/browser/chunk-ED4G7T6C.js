import{a as fe,b as hi,c as Tt,d as Fn}from"./chunk-WDQL5Q5Z.js";import{a as Tn}from"./chunk-KPM47ZNZ.js";import{$ as li,A as un,B as M,C as pe,D as Ve,E as gn,F as ue,G as fn,H as Re,I as yt,J as Ct,K as Ne,L as Dt,M as Mt,N as xt,O as _n,P as wt,Q as vn,R as St,S as bn,T as It,U as yn,V as Cn,W as Dn,X as oi,Y as si,Z as kt,_ as Mn,a as de,aa as xn,c as on,d as vt,e as sn,fa as wn,ga as Et,ha as Le,ia as Ot,j as ln,ja as At,k as dn,l as cn,m as bt,ma as Sn,n as ce,na as Pt,o as te,oa as we,p as Ge,pa as In,q as mn,ra as kn,ua as En,v as ri,va as On,w as me,wa as An,x as hn,y as pn,z as he,za as Pn}from"./chunk-23WGA5L7.js";import{b as J,h as Ke,j as $,k as ft,l as ee,m as Fe,n as _t,o as ai}from"./chunk-XVKP5Z4H.js";import{c as di,d as We,f as ge,g as ci,h as mi,i as Qe}from"./chunk-T7VJLMO5.js";import{$ as R,$a as ae,$b as nn,Aa as Qt,B as He,Bb as Xi,Cb as g,D as Hi,Db as Ji,Eb as p,F as $i,Fb as Ee,Fc as ii,Gb as le,Hb as re,Hc as xe,Ic as Z,Jb as ei,Jc as W,Kb as L,Lb as A,M as Ui,Ma as Zt,Mb as P,Mc as rn,Na as st,Nb as ut,O as rt,Oa as ne,Ob as l,P as Ki,Pb as I,Pc as X,Qb as C,Sa as d,Sb as en,Sc as ni,Ta as h,Tb as Oe,U as $e,Ua as Zi,Ub as Ae,V as O,Vb as Pe,W as F,Wb as Te,Xb as j,Y as ye,Yb as Me,Za as lt,Zb as Ue,_ as V,_b as tn,a as se,aa as Gi,ba as Wi,cc as an,da as Ce,ea as w,eb as Xt,f as Ye,fa as N,fb as dt,ga as De,j as Ie,jb as f,kb as z,l as Bi,la as K,lb as m,ma as v,mb as ct,n as zi,na as b,nb as H,o as nt,oa as ot,ob as Jt,p as Yi,pa as Qi,pb as ke,pc as G,q as Ht,qa as Kt,ra as Gt,rb as mt,sa as Wt,sb as ht,sc as ti,t as qi,tb as pt,u as qe,ua as Q,ub as o,v as at,va as D,vb as r,w as $t,wb as _,x as Ut,zb as S,zc as gt}from"./chunk-I7QEIFBZ.js";import{a as T,b as oe,c as ji,e as E}from"./chunk-YHOLSLLF.js";var Vn=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=N({type:n})}static{this.\u0275inj=F({})}}return n})();var Nn=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=N({type:n})}static{this.\u0275inj=F({imports:[ce,we,we,Vn,ce]})}}return n})();var ca=["mat-calendar-body",""];function ma(n,c){if(n&1&&(o(0,"tr",0)(1,"td",3),l(2),r()()),n&2){let e=p();d(),ct("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),z("colspan",e.numCols),d(),C(" ",e.label," ")}}function ha(n,c){if(n&1&&(o(0,"td",3),l(1),r()),n&2){let e=p(2);ct("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),z("colspan",e._firstRowOffset),d(),C(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function pa(n,c){if(n&1){let e=S();o(0,"td",6)(1,"button",7),g("click",function(t){let a=v(e).$implicit,s=p(2);return b(s._cellClicked(a,t))})("focus",function(t){let a=v(e).$implicit,s=p(2);return b(s._emitActiveDateChange(a,t))}),o(2,"span",8),l(3),r(),_(4,"span",9),r()()}if(n&2){let e=c.$implicit,i=c.$index,t=p().$index,a=p();ct("width",a._cellWidth)("padding-top",a._cellPadding)("padding-bottom",a._cellPadding),z("data-mat-row",t)("data-mat-col",i),d(),H("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",a._isActiveCell(t,i))("mat-calendar-body-range-start",a._isRangeStart(e.compareValue))("mat-calendar-body-range-end",a._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",a._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",a._isComparisonBridgeStart(e.compareValue,t,i))("mat-calendar-body-comparison-bridge-end",a._isComparisonBridgeEnd(e.compareValue,t,i))("mat-calendar-body-comparison-start",a._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",a._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",a._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",a._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",a._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",a._isInPreview(e.compareValue)),m("ngClass",e.cssClasses)("tabindex",a._isActiveCell(t,i)?0:-1),z("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",a._isSelected(e.compareValue))("aria-current",a.todayValue===e.compareValue?"date":null)("aria-describedby",a._getDescribedby(e.compareValue)),d(),H("mat-calendar-body-selected",a._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",a._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",a.todayValue===e.compareValue),d(),C(" ",e.displayValue," ")}}function ua(n,c){if(n&1&&(o(0,"tr",1),f(1,ha,2,6,"td",4),ht(2,pa,5,48,"td",5,mt),r()),n&2){let e=c.$implicit,i=c.$index,t=p();d(),ke(1,i===0&&t._firstRowOffset?1:-1),d(),pt(e)}}function ga(n,c){if(n&1&&(o(0,"th",2)(1,"span",6),l(2),r(),o(3,"span",3),l(4),r()()),n&2){let e=c.$implicit;d(2),I(e.long),d(2),I(e.narrow)}}var fa=["*"];function _a(n,c){}function va(n,c){if(n&1){let e=S();o(0,"mat-month-view",2),Pe("activeDateChange",function(t){v(e);let a=p();return Ae(a.activeDate,t)||(a.activeDate=t),b(t)}),g("_userSelection",function(t){v(e);let a=p();return b(a._dateSelected(t))})("dragStarted",function(t){v(e);let a=p();return b(a._dragStarted(t))})("dragEnded",function(t){v(e);let a=p();return b(a._dragEnded(t))}),r()}if(n&2){let e=p();Oe("activeDate",e.activeDate),m("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function ba(n,c){if(n&1){let e=S();o(0,"mat-year-view",3),Pe("activeDateChange",function(t){v(e);let a=p();return Ae(a.activeDate,t)||(a.activeDate=t),b(t)}),g("monthSelected",function(t){v(e);let a=p();return b(a._monthSelectedInYearView(t))})("selectedChange",function(t){v(e);let a=p();return b(a._goToDateInView(t,"month"))}),r()}if(n&2){let e=p();Oe("activeDate",e.activeDate),m("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function ya(n,c){if(n&1){let e=S();o(0,"mat-multi-year-view",4),Pe("activeDateChange",function(t){v(e);let a=p();return Ae(a.activeDate,t)||(a.activeDate=t),b(t)}),g("yearSelected",function(t){v(e);let a=p();return b(a._yearSelectedInMultiYearView(t))})("selectedChange",function(t){v(e);let a=p();return b(a._goToDateInView(t,"year"))}),r()}if(n&2){let e=p();Oe("activeDate",e.activeDate),m("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Ca(n,c){}var Da=["button"],Ma=[[["","matDatepickerToggleIcon",""]]],xa=["[matDatepickerToggleIcon]"];function wa(n,c){n&1&&(ot(),o(0,"svg",2),_(1,"path",3),r())}var Je=(()=>{class n{constructor(){this.changes=new Ye,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Xe=class{constructor(c,e,i,t,a={},s=c,u){this.value=c,this.displayValue=e,this.ariaLabel=i,this.enabled=t,this.cssClasses=a,this.compareValue=s,this.rawValue=u}},Sa=1,Ln=vt({passive:!1,capture:!0}),_e=vt({passive:!0,capture:!0}),Ft=vt({passive:!0}),ze=(()=>{class n{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(e,i){this._elementRef=e,this._ngZone=i,this._platform=R(on),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new D,this.previewChange=new D,this.activeDateChange=new D,this.dragStarted=new D,this.dragEnded=new D,this._didDragSinceMouseDown=!1,this._enterHandler=t=>{if(this._skipNextFocus&&t.type==="focus"){this._skipNextFocus=!1;return}if(t.target&&this.isRange){let a=this._getCellFromElement(t.target);a&&this._ngZone.run(()=>this.previewChange.emit({value:a.enabled?a:null,event:t}))}},this._touchmoveHandler=t=>{if(!this.isRange)return;let a=jn(t),s=a?this._getCellFromElement(a):null;a!==t.target&&(this._didDragSinceMouseDown=!0),ui(t.target)&&t.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:s?.enabled?s:null,event:t}))},this._leaveHandler=t=>{this.previewEnd!==null&&this.isRange&&(t.type!=="blur"&&(this._didDragSinceMouseDown=!0),t.target&&this._getCellFromElement(t.target)&&!(t.relatedTarget&&this._getCellFromElement(t.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:t})))},this._mousedownHandler=t=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let a=t.target&&this._getCellFromElement(t.target);!a||!this._isInRange(a.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:a.rawValue,event:t})})},this._mouseupHandler=t=>{if(!this.isRange)return;let a=ui(t.target);if(!a){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:t})});return}a.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let s=this._getCellFromElement(a);this.dragEnded.emit({value:s?.rawValue??null,event:t})})},this._touchendHandler=t=>{let a=jn(t);a&&this._mouseupHandler({target:a})},this._id=`mat-calendar-body-${Sa++}`,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,i.runOutsideAngular(()=>{let t=e.nativeElement;t.addEventListener("touchmove",this._touchmoveHandler,Ln),t.addEventListener("mouseenter",this._enterHandler,_e),t.addEventListener("focus",this._enterHandler,_e),t.addEventListener("mouseleave",this._leaveHandler,_e),t.addEventListener("blur",this._leaveHandler,_e),t.addEventListener("mousedown",this._mousedownHandler,Ft),t.addEventListener("touchstart",this._mousedownHandler,Ft),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(e,i){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){let i=e.numCols,{rows:t,numCols:a}=this;(e.rows||i)&&(this._firstRowOffset=t&&t.length&&t[0].length?a-t[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/a}%`),(i||!this._cellWidth)&&(this._cellWidth=`${100/a}%`)}ngOnDestroy(){let e=this._elementRef.nativeElement;e.removeEventListener("touchmove",this._touchmoveHandler,Ln),e.removeEventListener("mouseenter",this._enterHandler,_e),e.removeEventListener("focus",this._enterHandler,_e),e.removeEventListener("mouseleave",this._leaveHandler,_e),e.removeEventListener("blur",this._leaveHandler,_e),e.removeEventListener("mousedown",this._mousedownHandler,Ft),e.removeEventListener("touchstart",this._mousedownHandler,Ft),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(e,i){let t=e*this.numCols+i;return e&&(t-=this._firstRowOffset),t==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Hi(1)).subscribe(()=>{setTimeout(()=>{let i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return gi(e,this.startValue,this.endValue)}_isRangeEnd(e){return fi(e,this.startValue,this.endValue)}_isInRange(e){return _i(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return gi(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,t){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let a=this.rows[i][t-1];if(!a){let s=this.rows[i-1];a=s&&s[s.length-1]}return a&&!this._isRangeEnd(a.compareValue)}_isComparisonBridgeEnd(e,i,t){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let a=this.rows[i][t+1];if(!a){let s=this.rows[i+1];a=s&&s[0]}return a&&!this._isRangeStart(a.compareValue)}_isComparisonEnd(e){return fi(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return _i(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return gi(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return fi(e,this.previewStart,this.previewEnd)}_isInPreview(e){return _i(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){return this.isRange?this.startValue===e&&this.endValue===e?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===e?this._startDateLabelId:this.endValue===e?this._endDateLabelId:null:null}_getCellFromElement(e){let i=ui(e);if(i){let t=i.getAttribute("data-mat-row"),a=i.getAttribute("data-mat-col");if(t&&a)return this.rows[parseInt(t)][parseInt(a)]}return null}static{this.\u0275fac=function(i){return new(i||n)(h(Q),h(ae))}}static{this.\u0275cmp=w({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],standalone:!0,features:[K,j],attrs:ca,decls:7,vars:5,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(i,t){i&1&&(f(0,ma,3,6,"tr",0),ht(1,ua,4,1,"tr",1,mt),o(3,"label",2),l(4),r(),o(5,"label",2),l(6),r()),i&2&&(ke(0,t._firstRowOffset<t.labelMinRequiredCells?0:-1),d(),pt(t.rows),d(2),m("id",t._startDateLabelId),d(),C(" ",t.startDateAccessibleName,`
`),d(),m("id",t._endDateLabelId),d(),C(" ",t.endDateAccessibleName,`
`))},dependencies:[xe],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color)}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size);font-weight:var(--mat-datepicker-calendar-body-label-text-weight);color:var(--mat-datepicker-calendar-body-label-text-color)}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color)}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color);border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color);color:var(--mat-datepicker-calendar-date-selected-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color)}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color)}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color)}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}'],encapsulation:2,changeDetection:0})}}return n})();function pi(n){return n?.nodeName==="TD"}function ui(n){let c;return pi(n)?c=n:pi(n.parentNode)?c=n.parentNode:pi(n.parentNode?.parentNode)&&(c=n.parentNode.parentNode),c?.getAttribute("data-mat-row")!=null?c:null}function gi(n,c,e){return e!==null&&c!==e&&n<e&&n===c}function fi(n,c,e){return c!==null&&c!==e&&n>=c&&n===e}function _i(n,c,e,i){return i&&c!==null&&e!==null&&c!==e&&n>=c&&n<=e}function jn(n){let c=n.changedTouches[0];return document.elementFromPoint(c.clientX,c.clientY)}var U=class{constructor(c,e){this.start=c,this.end=e}},Vt=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new Ye,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){let t=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:t})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static{this.\u0275fac=function(i){Zi()}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})(),Ia=(()=>{class n extends Vt{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let e=new n(this._adapter);return e.updateSelection(this.selection,this),e}static{this.\u0275fac=function(i){return new(i||n)(V(te))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})();function ka(n,c){return n||new Ia(c)}var Ea={provide:Vt,deps:[[new Gi,new Wi,Vt],te],useFactory:ka};var Hn=new ye("MAT_DATE_RANGE_SELECTION_STRATEGY");var vi=7,Bn=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate,t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){e instanceof U?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,t,a,s){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=t,this._dir=a,this._rangeStrategy=s,this._rerenderSubscription=se.EMPTY,this.activeDrag=null,this.selectedChange=new D,this._userSelection=new D,this.dragStarted=new D,this.dragEnded=new D,this.activeDateChange=new D,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(rt(null)).subscribe(()=>this._init())}ngOnChanges(e){let i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){let i=e.value,t=this._getDateFromDayOfMonth(i),a,s;this._selected instanceof U?(a=this._getDateInCurrentMonth(this._selected.start),s=this._getDateInCurrentMonth(this._selected.end)):a=s=this._getDateInCurrentMonth(this._selected),(a!==i||s!==i)&&this.selectedChange.emit(t),this._userSelection.emit({value:t,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){let i=e.value,t=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(i),this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){let i=this._activeDate,t=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,t?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,t?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&e.preventDefault();return;case 27:this._previewEnd!=null&&!sn(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation());return;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(vi+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%vi,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){let t=i?i.rawValue:null,a=this._rangeStrategy.createPreview(t,this.selected,e);if(this._previewStart=this._getCellCompareValue(a.start),this._previewEnd=this._getCellCompareValue(a.end),this.activeDrag&&t){let s=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,t,e);s&&(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){let i=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:i??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){let e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow"),a=this._dateAdapter.getDayOfWeekNames("long").map((s,u)=>({long:s,narrow:i[u]}));this._weekdays=a.slice(e).concat(a.slice(0,e))}_createWeekCells(){let e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let t=0,a=this._firstWeekOffset;t<e;t++,a++){a==vi&&(this._weeks.push([]),a=0);let s=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),t+1),u=this._shouldEnableDate(s),y=this._dateAdapter.format(s,this._dateFormats.display.dateA11yLabel),x=this.dateClass?this.dateClass(s,"month"):void 0;this._weeks[this._weeks.length-1].push(new Xe(t+1,i[t],y,u,x,this._getCellCompareValue(s),s))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!!(e&&i&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i)&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){let i=this._dateAdapter.getYear(e),t=this._dateAdapter.getMonth(e),a=this._dateAdapter.getDate(e);return new Date(i,t,a).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(e){e instanceof U?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}static{this.\u0275fac=function(i){return new(i||n)(h(G),h(Ge,8),h(te,8),h(bt,8),h(Hn,8))}}static{this.\u0275cmp=w({type:n,selectors:[["mat-month-view"]],viewQuery:function(i,t){if(i&1&&L(ze,5),i&2){let a;A(a=P())&&(t._matCalendarBody=a.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],standalone:!0,features:[K,j],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(i,t){i&1&&(o(0,"table",0)(1,"thead",1)(2,"tr"),ht(3,ga,5,2,"th",2,mt),r(),o(5,"tr",3),_(6,"th",4),r()(),o(7,"tbody",5),g("selectedValueChange",function(s){return t._dateSelected(s)})("activeDateChange",function(s){return t._updateActiveDate(s)})("previewChange",function(s){return t._previewChanged(s)})("dragStarted",function(s){return t.dragStarted.emit(s)})("dragEnded",function(s){return t._dragEnded(s)})("keyup",function(s){return t._handleCalendarBodyKeyup(s)})("keydown",function(s){return t._handleCalendarBodyKeydown(s)}),r()()),i&2&&(d(3),pt(t._weekdays),d(4),m("label",t._monthLabel)("rows",t._weeks)("todayValue",t._todayDate)("startValue",t._rangeStart)("endValue",t._rangeEnd)("comparisonStart",t._comparisonRangeStart)("comparisonEnd",t._comparisonRangeEnd)("previewStart",t._previewStart)("previewEnd",t._previewEnd)("isRange",t._isRange)("labelMinRequiredCells",3)("activeCell",t._dateAdapter.getDate(t.activeDate)-1)("startDateAccessibleName",t.startDateAccessibleName)("endDateAccessibleName",t.endDateAccessibleName))},dependencies:[ze],encapsulation:2,changeDetection:0})}}return n})(),Y=24,bi=4,zn=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate,t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),$n(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){e instanceof U?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,t){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=t,this._rerenderSubscription=se.EMPTY,this.selectedChange=new D,this.yearSelected=new D,this.activeDateChange=new D,this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(rt(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let i=this._dateAdapter.getYear(this._activeDate)-Ze(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let t=0,a=[];t<Y;t++)a.push(i+t),a.length==bi&&(this._years.push(a.map(s=>this._createCellForYear(s))),a=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){let i=e.value,t=this._dateAdapter.createDate(i,0,1),a=this._getDateFromYear(i);this.yearSelected.emit(t),this.selectedChange.emit(a)}_updateActiveDate(e){let i=e.value,t=this._activeDate;this.activeDate=this._getDateFromYear(i),this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let i=this._activeDate,t=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-bi);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,bi);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Ze(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Y-Ze(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-Y*10:-Y);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?Y*10:Y);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return Ze(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){let i=this._dateAdapter.getMonth(this.activeDate),t=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),t))}_createCellForYear(e){let i=this._dateAdapter.createDate(e,0,1),t=this._dateAdapter.getYearName(i),a=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new Xe(e,t,t,this._shouldEnableYear(e),a)}_shouldEnableYear(e){if(e==null||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let i=this._dateAdapter.createDate(e,0,1);for(let t=i;this._dateAdapter.getYear(t)==e;t=this._dateAdapter.addCalendarDays(t,1))if(this.dateFilter(t))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(e){if(this._selectedYear=null,e instanceof U){let i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}static{this.\u0275fac=function(i){return new(i||n)(h(G),h(te,8),h(bt,8))}}static{this.\u0275cmp=w({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(i,t){if(i&1&&L(ze,5),i&2){let a;A(a=P())&&(t._matCalendarBody=a.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],standalone:!0,features:[j],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(i,t){i&1&&(o(0,"table",0)(1,"thead",1)(2,"tr"),_(3,"th",2),r()(),o(4,"tbody",3),g("selectedValueChange",function(s){return t._yearSelected(s)})("activeDateChange",function(s){return t._updateActiveDate(s)})("keyup",function(s){return t._handleCalendarBodyKeyup(s)})("keydown",function(s){return t._handleCalendarBodyKeydown(s)}),r()()),i&2&&(d(4),m("rows",t._years)("todayValue",t._todayYear)("startValue",t._selectedYear)("endValue",t._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",t._getActiveCell()))},dependencies:[ze],encapsulation:2,changeDetection:0})}}return n})();function $n(n,c,e,i,t){let a=n.getYear(c),s=n.getYear(e),u=Un(n,i,t);return Math.floor((a-u)/Y)===Math.floor((s-u)/Y)}function Ze(n,c,e,i){let t=n.getYear(c);return Oa(t-Un(n,e,i),Y)}function Un(n,c,e){let i=0;return e?i=n.getYear(e)-Y+1:c&&(i=n.getYear(c)),i}function Oa(n,c){return(n%c+c)%c}var Yn=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate,t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){e instanceof U?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,t,a){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=t,this._dir=a,this._rerenderSubscription=se.EMPTY,this.selectedChange=new D,this.monthSelected=new D,this.activeDateChange=new D,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(rt(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){let i=e.value,t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(t);let a=this._getDateFromMonth(i);this.selectedChange.emit(a)}_updateActiveDate(e){let i=e.value,t=this._activeDate;this.activeDate=this._getDateFromMonth(i),this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let i=this._activeDate,t=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,t?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,t?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(t=>this._createCellForMonth(t,e[t]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){let i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),t=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),t))}_createCellForMonth(e,i){let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),a=this._dateAdapter.format(t,this._dateFormats.display.monthYearA11yLabel),s=this.dateClass?this.dateClass(t,"year"):void 0;return new Xe(e,i.toLocaleUpperCase(),a,this._shouldEnableMonth(e),s)}_shouldEnableMonth(e){let i=this._dateAdapter.getYear(this.activeDate);if(e==null||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;let t=this._dateAdapter.createDate(i,e,1);for(let a=t;this._dateAdapter.getMonth(a)==e;a=this._dateAdapter.addCalendarDays(a,1))if(this.dateFilter(a))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){let t=this._dateAdapter.getYear(this.maxDate),a=this._dateAdapter.getMonth(this.maxDate);return e>t||e===t&&i>a}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){let t=this._dateAdapter.getYear(this.minDate),a=this._dateAdapter.getMonth(this.minDate);return e<t||e===t&&i<a}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(e){e instanceof U?this._selectedMonth=this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._selectedMonth=this._getMonthInCurrentYear(e)}static{this.\u0275fac=function(i){return new(i||n)(h(G),h(Ge,8),h(te,8),h(bt,8))}}static{this.\u0275cmp=w({type:n,selectors:[["mat-year-view"]],viewQuery:function(i,t){if(i&1&&L(ze,5),i&2){let a;A(a=P())&&(t._matCalendarBody=a.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],standalone:!0,features:[j],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(i,t){i&1&&(o(0,"table",0)(1,"thead",1)(2,"tr"),_(3,"th",2),r()(),o(4,"tbody",3),g("selectedValueChange",function(s){return t._monthSelected(s)})("activeDateChange",function(s){return t._updateActiveDate(s)})("keyup",function(s){return t._handleCalendarBodyKeyup(s)})("keydown",function(s){return t._handleCalendarBodyKeydown(s)}),r()()),i&2&&(d(4),m("label",t._yearLabel)("rows",t._months)("todayValue",t._todayMonth)("startValue",t._selectedMonth)("endValue",t._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",t._dateAdapter.getMonth(t.activeDate)))},dependencies:[ze],encapsulation:2,changeDetection:0})}}return n})(),Aa=1,Kn=(()=>{class n{constructor(e,i,t,a,s){this._intl=e,this.calendar=i,this._dateAdapter=t,this._dateFormats=a,this._id=`mat-calendar-header-${Aa++}`,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>s.markForCheck())}get periodButtonText(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return this.calendar.currentView=="month"?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-Y)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:Y)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return this.calendar.currentView=="month"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):this.calendar.currentView=="year"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):$n(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let i=this._dateAdapter.getYear(this.calendar.activeDate)-Ze(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),t=i+Y-1,a=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),s=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1));return[a,s]}static{this.\u0275fac=function(i){return new(i||n)(h(Je),h($e(()=>yi)),h(te,8),h(Ge,8),h(G))}}static{this.\u0275cmp=w({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],standalone:!0,features:[j],ngContentSelectors:fa,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],[1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"]],template:function(i,t){i&1&&(Ee(),o(0,"div",0)(1,"div",1)(2,"label",2),l(3),r(),o(4,"button",3),g("click",function(){return t.currentPeriodClicked()}),o(5,"span",4),l(6),r(),ot(),o(7,"svg",5),_(8,"polygon",6),r()(),Qi(),_(9,"div",7),le(10),o(11,"button",8),g("click",function(){return t.previousClicked()}),r(),o(12,"button",9),g("click",function(){return t.nextClicked()}),r()()()),i&2&&(d(2),m("id",t._periodButtonLabelId),d(),I(t.periodButtonDescription),d(),z("aria-label",t.periodButtonLabel)("aria-describedby",t._periodButtonLabelId),d(2),I(t.periodButtonText),d(),H("mat-calendar-invert",t.calendar.currentView!=="month"),d(4),m("disabled",!t.previousEnabled()),z("aria-label",t.prevButtonLabel),d(),m("disabled",!t.nextEnabled()),z("aria-label",t.nextButtonLabel))},dependencies:[oi,si],encapsulation:2,changeDetection:0})}}return n})(),yi=(()=>{class n{get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){e instanceof U?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){let i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}constructor(e,i,t,a){this._dateAdapter=i,this._dateFormats=t,this._changeDetectorRef=a,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new D,this.yearSelected=new D,this.monthSelected=new D,this.viewChanged=new D(!0),this._userSelection=new D,this._userDragDrop=new D,this._activeDrag=null,this.stateChanges=new Ye,this._intlChanges=e.changes.subscribe(()=>{a.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new Mn(this.headerComponent||Kn),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){let i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,t=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,a=i||t||e.dateFilter;if(a&&!a.firstChange){let s=this._getCurrentViewComponent();s&&(this._changeDetectorRef.detectChanges(),s._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){let i=e.value;(this.selected instanceof U||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static{this.\u0275fac=function(i){return new(i||n)(h(Je),h(te,8),h(Ge,8),h(G))}}static{this.\u0275cmp=w({type:n,selectors:[["mat-calendar"]],viewQuery:function(i,t){if(i&1&&(L(Bn,5),L(Yn,5),L(zn,5)),i&2){let a;A(a=P())&&(t.monthView=a.first),A(a=P())&&(t.yearView=a.first),A(a=P())&&(t.multiYearView=a.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],standalone:!0,features:[Te([Ea]),K,j],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(i,t){if(i&1&&(f(0,_a,0,0,"ng-template",0),o(1,"div",1),f(2,va,1,11)(3,ba,1,6)(4,ya,1,6),r()),i&2){let a;m("cdkPortalOutlet",t._calendarHeaderPortal),d(2),ke(2,(a=t.currentView)==="month"?2:a==="year"?3:a==="multi-year"?4:-1)}},dependencies:[li,dn,Bn,Yn,zn],styles:['.mat-calendar{display:block;font-family:var(--mat-datepicker-calendar-text-font);font-size:var(--mat-datepicker-calendar-text-size)}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size);font-weight:var(--mat-datepicker-calendar-period-button-text-weight);--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color)}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color)}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color)}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color);font-size:var(--mat-datepicker-calendar-header-text-size);font-weight:var(--mat-datepicker-calendar-header-text-weight)}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return n})(),qn={transformPanel:di("transformPanel",[Qe("void => enter-dropdown",We("120ms cubic-bezier(0, 0, 0.2, 1)",mi([ge({opacity:0,transform:"scale(1, 0.8)"}),ge({opacity:1,transform:"scale(1, 1)"})]))),Qe("void => enter-dialog",We("150ms cubic-bezier(0, 0, 0.2, 1)",mi([ge({opacity:0,transform:"scale(0.7)"}),ge({transform:"none",opacity:1})]))),Qe("* => void",We("100ms linear",ge({opacity:0})))]),fadeInCalendar:di("fadeInCalendar",[ci("void",ge({opacity:0})),ci("enter",ge({opacity:1})),Qe("void => *",We("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};var Pa=new ye("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let n=R(Le);return()=>n.scrollStrategies.reposition()}});function Ta(n){return()=>n.scrollStrategies.reposition()}var Fa={provide:Pa,deps:[Le],useFactory:Ta},Va=(()=>{class n{constructor(e,i,t,a,s,u){this._elementRef=e,this._changeDetectorRef=i,this._globalModel=t,this._dateAdapter=a,this._rangeSelectionStrategy=s,this._subscriptions=new se,this._animationDone=new Ye,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=u.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){let i=this._model.selection,t=e.value,a=i instanceof U;if(a&&this._rangeSelectionStrategy){let s=this._rangeSelectionStrategy.selectionFinished(t,i,e.event);this._model.updateSelection(s,this)}else t&&(a||!this._dateAdapter.sameDate(t,i))&&this._model.add(t);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(e){this._isAnimating=e.phaseName==="start",this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}static{this.\u0275fac=function(i){return new(i||n)(h(Q),h(G),h(Vt),h(te),h(Hn,8),h(Je))}}static{this.\u0275cmp=w({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(i,t){if(i&1&&L(yi,5),i&2){let a;A(a=P())&&(t._calendar=a.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(i,t){i&1&&Ji("@transformPanel.start",function(s){return t._handleAnimationEvent(s)})("@transformPanel.done",function(s){return t._handleAnimationEvent(s)}),i&2&&(Xi("@transformPanel",t._animationState),Jt(t.color?"mat-"+t.color:""),H("mat-datepicker-content-touch",t.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],standalone:!0,features:[j],decls:5,vars:27,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(i,t){if(i&1&&(o(0,"div",0)(1,"mat-calendar",1),g("yearSelected",function(s){return t.datepicker._selectYear(s)})("monthSelected",function(s){return t.datepicker._selectMonth(s)})("viewChanged",function(s){return t.datepicker._viewChanged(s)})("_userSelection",function(s){return t._handleUserSelection(s)})("_userDragDrop",function(s){return t._handleUserDragDrop(s)}),r(),f(2,Ca,0,0,"ng-template",2),o(3,"button",3),g("focus",function(){return t._closeButtonFocused=!0})("blur",function(){return t._closeButtonFocused=!1})("click",function(){return t.datepicker.close()}),l(4),r()()),i&2){let a;H("mat-datepicker-content-container-with-custom-header",t.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",t._actionsPortal),z("aria-modal",!0)("aria-labelledby",(a=t._dialogLabelId)!==null&&a!==void 0?a:void 0),d(),Jt(t.datepicker.panelClass),m("id",t.datepicker.id)("startAt",t.datepicker.startAt)("startView",t.datepicker.startView)("minDate",t.datepicker._getMinDate())("maxDate",t.datepicker._getMaxDate())("dateFilter",t.datepicker._getDateFilter())("headerComponent",t.datepicker.calendarHeaderComponent)("selected",t._getSelected())("dateClass",t.datepicker.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",t.startDateAccessibleName)("endDateAccessibleName",t.endDateAccessibleName),d(),m("cdkPortalOutlet",t._actionsPortal),d(),H("cdk-visually-hidden",!t._closeButtonFocused),m("color",t.color||"primary"),d(),I(t._closeButtonText)}},dependencies:[ln,yi,li,oi],styles:[".mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color);color:var(--mat-datepicker-calendar-container-text-color);box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-shape)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-touch-shape);position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[qn.transformPanel,qn.fadeInCalendar]},changeDetection:0})}}return n})();var Ra=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=De({type:n,selectors:[["","matDatepickerToggleIcon",""]],standalone:!0})}}return n})(),Na=(()=>{class n{get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=e}constructor(e,i,t){this._intl=e,this._changeDetectorRef=i,this._stateChanges=se.EMPTY;let a=Number(t);this.tabIndex=a||a===0?a:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){let e=this.datepicker?this.datepicker.stateChanges:Ie(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Ie(),t=this.datepicker?$t(this.datepicker.openedStream,this.datepicker.closedStream):Ie();this._stateChanges.unsubscribe(),this._stateChanges=$t(this._intl.changes,e,i,t).subscribe(()=>this._changeDetectorRef.markForCheck())}static{this.\u0275fac=function(i){return new(i||n)(h(Je),h(G),Gt("tabindex"))}}static{this.\u0275cmp=w({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(i,t,a){if(i&1&&ei(a,Ra,5),i&2){let s;A(s=P())&&(t._customIcon=s.first)}},viewQuery:function(i,t){if(i&1&&L(Da,5),i&2){let a;A(a=P())&&(t._button=a.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(i,t){i&1&&g("click",function(s){return t._open(s)}),i&2&&(z("tabindex",null)("data-mat-calendar",t.datepicker?t.datepicker.id:null),H("mat-datepicker-toggle-active",t.datepicker&&t.datepicker.opened)("mat-accent",t.datepicker&&t.datepicker.color==="accent")("mat-warn",t.datepicker&&t.datepicker.color==="warn"))},inputs:{datepicker:[Ce.None,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[Ce.None,"aria-label","ariaLabel"],disabled:[Ce.HasDecoratorInputTransform,"disabled","disabled",ti],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],standalone:!0,features:[dt,K,j],ngContentSelectors:xa,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(i,t){i&1&&(Ee(Ma),o(0,"button",1,0),f(2,wa,2,0,":svg:svg",2),le(3),r()),i&2&&(m("disabled",t.disabled)("disableRipple",t.disableRipple),z("aria-haspopup",t.datepicker?"dialog":null)("aria-label",t.ariaLabel||t._intl.openCalendarLabel)("tabindex",t.disabled?-1:t.tabIndex),d(2),ke(2,t._customIcon?-1:2))},dependencies:[si],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color)}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color)}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}}return n})();var Gn=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=N({type:n})}static{this.\u0275inj=F({providers:[Je,Fa],imports:[X,kt,Ot,cn,xn,ce,Va,Na,Kn,Et]})}}return n})();var La=new ye("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let n=R(Le);return()=>n.scrollStrategies.reposition()}});function ja(n){return()=>n.scrollStrategies.reposition()}var Ba={provide:La,deps:[Le],useFactory:ja};var Wn=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=N({type:n})}static{this.\u0275inj=F({providers:[Ba],imports:[X,Ot,ri,ce,Et,we,ri,ce]})}}return n})();var za=["mapContainer"],Qn=(()=>{class n{constructor(e,i,t){this.router=e,this.itineraryService=i,this.placesApi=t,this.searchTerm="",this.destinations=[],this.loading=!0}ngOnInit(){}search(){this.router.navigate(["/itinerarios/resultados"],{queryParams:{destino:this.searchTerm}})}loadDestinations(){this.itineraryService.getItineraries().subscribe(e=>{let t=[...new Set(e.map(a=>a.destination))].map(a=>this.placesApi.getCoordinates(a,this.map).pipe(nt(s=>({name:a,lat:s.lat,lng:s.lng}))));qe(t).subscribe({next:a=>{this.destinations=a,this.addMarkersToMap()},error:a=>{console.error("Error al obtener coordenadas:",a)}})})}addMarkersToMap(){this.map&&this.destinations.forEach(e=>{new google.maps.Marker({position:{lat:e.lat,lng:e.lng},map:this.map,title:e.name}).addListener("click",()=>{this.onDestinationClick(e.name)})})}onDestinationClick(e){this.router.navigate(["/itinerarios/resultados"],{queryParams:{destino:e}})}ngAfterViewInit(){let e={center:{lat:0,lng:0},zoom:2,disableDefaultUI:!1};this.map=new google.maps.Map(this.gmap.nativeElement,e),this.loadDestinations();let i=document.createElement("input");i.type="text",i.placeholder="Buscar lugar...",i.style.position="absolute",i.style.top="10px",i.style.left="10px",i.style.zIndex="5",this.gmap.nativeElement.parentElement.appendChild(i);let t=new google.maps.places.SearchBox(i);t.addListener("places_changed",()=>{let a=t.getPlaces();if(a&&a.length>0){let s=a[0];s.geometry&&s.geometry.location&&(this.map.setCenter(s.geometry.location),this.map.setZoom(8),new google.maps.Marker({map:this.map,position:s.geometry.location}))}})}static{this.\u0275fac=function(i){return new(i||n)(h(ee),h(de),h(Tn))}}static{this.\u0275cmp=w({type:n,selectors:[["app-itineraries"]],viewQuery:function(i,t){if(i&1&&L(za,5),i&2){let a;A(a=P())&&(t.gmap=a.first)}},decls:18,vars:1,consts:[["mapContainer",""],[1,"main-container","text-center"],[1,"search-container"],["type","text","placeholder","Buscar por destino",3,"ngModelChange","keydown.enter","ngModel"],[3,"click"],[1,"map-section"],[1,"map-container"],[1,"primary","btn-large",3,"click"]],template:function(i,t){if(i&1){let a=S();o(0,"div",1)(1,"h1"),l(2,"ITINERARIOS"),r(),o(3,"div",2)(4,"input",3),Pe("ngModelChange",function(u){return v(a),Ae(t.searchTerm,u)||(t.searchTerm=u),b(u)}),g("keydown.enter",function(){return v(a),b(t.search())}),r(),o(5,"button",4),g("click",function(){return v(a),b(t.search())}),o(6,"mat-icon"),l(7,"search"),r()()(),o(8,"section",5)(9,"h2"),l(10,"\xBFA d\xF3nde vas?"),r(),_(11,"div",6,0),r(),o(13,"section")(14,"h3"),l(15,"Todav\xEDa no tengo claro el destino"),r(),o(16,"button",7),g("click",function(){return v(a),b(t.search())}),l(17,"Ver itinerarios"),r()()()}i&2&&(d(4),Oe("ngModel",t.searchTerm))},dependencies:[he,pe,fn,me],styles:["*[_ngcontent-%COMP%], html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{font-family:Jura,sans-serif;font-size:1rem;font-weight:400}h1[_ngcontent-%COMP%]{font-size:1.7rem;font-weight:700;margin-bottom:1.5rem}h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1.5rem}h3[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:1rem}p[_ngcontent-%COMP%]{font-size:1rem;font-weight:400}.text-center[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{font-size:.9rem;border:none;border-radius:10px;padding:.7rem 0;cursor:pointer}button.primary[_ngcontent-%COMP%]{border:1px solid #106A8A;background-color:#106a8a;color:#fff}button.primary[_ngcontent-%COMP%]:hover{background-color:#fff;color:#106a8a}button.secondary[_ngcontent-%COMP%]{border:1px solid #16A8C1;background-color:#fff;color:#16a8c1}button.secondary[_ngcontent-%COMP%]:hover{background-color:#16a8c1;color:#fff}button.call-to-action[_ngcontent-%COMP%]{border:1px solid #F2C01C;background-color:#f2c01c;color:#000}button.call-to-action[_ngcontent-%COMP%]:hover{background-color:#fff;color:#f2c01c;font-weight:700}.btn-large[_ngcontent-%COMP%]{position:relative;justify-content:center;text-align:center;width:300px}.btn-large[_ngcontent-%COMP%]   .icon-right[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%)}.btn-large[_ngcontent-%COMP%]   .icon-left[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%)}.btn-small[_ngcontent-%COMP%]{position:relative;justify-content:center;text-align:center;width:150px}.btn-small[_ngcontent-%COMP%]   .icon-right[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%)}.btn-small[_ngcontent-%COMP%]   .icon-left[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%)}.btn-rounded[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border-radius:50%;width:36px;height:36px}a[_ngcontent-%COMP%]{font-size:1rem;text-decoration:none}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{font-weight:700;text-decoration:underline}.main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:1.5rem auto;width:80vw}.layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.flex-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;gap:1rem 0}.main-content[_ngcontent-%COMP%]{padding-top:80px;flex:1}@media (min-width: 769px){.main-content[_ngcontent-%COMP%]{padding-top:140px}}.error[_ngcontent-%COMP%]{color:red}#toast[_ngcontent-%COMP%]{visibility:hidden;min-width:250px;color:#fff;text-align:center;border-radius:10px;padding:16px;z-index:1;font-size:14px;margin-left:auto;margin-right:auto}#toast.requestOk[_ngcontent-%COMP%]{background-color:#16a8c1}#toast.requestKo[_ngcontent-%COMP%]{background-color:red}#toast.show[_ngcontent-%COMP%]{visibility:visible;-webkit-animation:_ngcontent-%COMP%_fadein .5s,fadeout .5s 2.5s;animation:_ngcontent-%COMP%_fadein .5s,fadeout .5s 2.5s}@-webkit-keyframes _ngcontent-%COMP%_fadein{0%{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@keyframes _ngcontent-%COMP%_fadein{0%{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@-webkit-keyframes _ngcontent-%COMP%_fadeout{0%{bottom:30px;opacity:1}to{bottom:0;opacity:0}}@keyframes _ngcontent-%COMP%_fadeout{0%{bottom:30px;opacity:1}to{bottom:0;opacity:0}}.search-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:700px;margin-bottom:1.5rem}.search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1.2rem;font-size:1rem;border-radius:25px;border:1px solid #ccc}.search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;right:5px;top:50%;transform:translateY(-50%);background:none;border:none;font-size:18px;cursor:pointer}.map-section[_ngcontent-%COMP%]{width:100%}.map-section[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]{width:100%;height:500px;margin:1rem 0}"]})}}return n})();var ve=(()=>{class n{constructor(){this.partialItinerary={},this.draftKey="draft_itinerary_new"}setDraftMode(e,i){if(e==="new")this.draftKey="draft_itinerary_new";else if(e==="edit"&&i)this.draftKey=`draft_itinerary_edit_${i}`;else throw new Error("ItineraryCreationService: Missing itinerary ID for edit mode");let t=localStorage.getItem(this.draftKey);t?this.partialItinerary=JSON.parse(t):this.partialItinerary={}}setStep1(e){this.partialItinerary=T(T({},this.partialItinerary),e),this.saveToLocalStorage()}setStep2Days(e){this.partialItinerary=oe(T({},this.partialItinerary),{days:e}),this.saveToLocalStorage()}setStep3Details(e){this.partialItinerary=T(T({},this.partialItinerary),e),this.saveToLocalStorage()}getStep1Data(){let u=this.partialItinerary,{days:e,transports:i,accommodations:t,restaurants:a}=u;return ji(u,["days","transports","accommodations","restaurants"])}getStep2Days(){return this.partialItinerary.days||[]}getStep3Details(){return{accommodations:this.partialItinerary.accommodations,transports:this.partialItinerary.transports,restaurants:this.partialItinerary.restaurants}}reset(){this.partialItinerary={},localStorage.removeItem(this.draftKey)}loadExistingItinerary(e){this.partialItinerary=e,this.saveToLocalStorage()}getExistingItinerary(){return this.partialItinerary}saveToLocalStorage(){localStorage.setItem(this.draftKey,JSON.stringify(this.partialItinerary))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Lt=(()=>{class n{constructor(e){this.http=e,this.baseUrl="http://localhost:3000/days"}getAllDays(){return this.http.get(this.baseUrl)}getDayById(e){return this.http.get(`${this.baseUrl}/${e}`)}getDaysByItineraryId(e){return this.http.get(`${this.baseUrl}/by-itinerary/${e}`)}newDays(e){return this.http.post(this.baseUrl,e)}updateDay(e,i){return this.http.put(`${this.baseUrl}/${e}`,i)}deleteDay(e){return this.http.delete(`${this.baseUrl}/${e}`)}static{this.\u0275fac=function(i){return new(i||n)(V(J))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var jt=(()=>{class n{constructor(e){this.http=e,this.controller="accommodations",this.urlBlogUocApi="http://localhost:3000/"+this.controller}getAccommodations(){return this.http.get(this.urlBlogUocApi)}getAccommodationByName(e){return this.http.get(`${this.urlBlogUocApi}/name/${e}`)}getAccommodationById(e){return this.http.get(`${this.urlBlogUocApi}/${e}`)}createAccommodation(e){return this.http.post(this.urlBlogUocApi,e)}updateAccommodation(e,i){return this.http.put(`${this.urlBlogUocApi}/${e}`,i)}linkAccommodationsToItinerary(e,i){return this.http.post(`http://localhost:3000/itineraries/${e}/accommodations`,{accommodationIds:i})}deleteAccommodation(e){return this.http.delete(`${this.urlBlogUocApi}/${e}`)}static{this.\u0275fac=function(i){return new(i||n)(V(J))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Bt=(()=>{class n{constructor(e){this.http=e,this.controller="transports",this.urlBlogUocApi="http://localhost:3000/"+this.controller}getTransports(){return this.http.get(this.urlBlogUocApi)}getTransportByCompany(e){return this.http.get(`${this.urlBlogUocApi}/company/${e}`)}getTransportById(e){return this.http.get(`${this.urlBlogUocApi}/${e}`)}createTransport(e){return this.http.post(this.urlBlogUocApi,e)}updateTransport(e,i){return this.http.put(`${this.urlBlogUocApi}/${e}`,i)}linkTransportsToItinerary(e,i){return this.http.post(`http://localhost:3000/itineraries/${e}/transports`,{transportIds:i})}deleteTransport(e){return this.http.delete(`${this.urlBlogUocApi}/${e}`)}static{this.\u0275fac=function(i){return new(i||n)(V(J))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var zt=(()=>{class n{constructor(e){this.http=e,this.controller="restaurants",this.urlBlogUocApi="http://localhost:3000/"+this.controller}getRestaurants(){return this.http.get(this.urlBlogUocApi)}getRestaurantByName(e){return this.http.get(`${this.urlBlogUocApi}/name/${e}`)}getRestaurantById(e){return this.http.get(`${this.urlBlogUocApi}/${e}`)}createRestaurant(e){return this.http.post(this.urlBlogUocApi,e)}updateRestaurant(e,i){return this.http.put(`${this.urlBlogUocApi}/${e}`,i)}linkRestaurantsToItinerary(e,i){return this.http.post(`http://localhost:3000/itineraries/${e}/restaurants`,{restaurantIds:i})}deleteRestaurant(e){return this.http.delete(`${this.urlBlogUocApi}/${e}`)}static{this.\u0275fac=function(i){return new(i||n)(V(J))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Ha(n,c){if(n&1&&(o(0,"div")(1,"h4"),l(2),r(),_(3,"p",12),r()),n&2){let e=c.$implicit,i=c.index;d(2),en("D\xEDa ",i+1,": ",e.startLocation," - ",e.endLocation,""),d(),m("innerHTML",e.description,st)}}function $a(n,c){if(n&1&&(o(0,"ul")(1,"li"),l(2),o(3,"a",13),l(4),r()()()),n&2){let e=c.$implicit;d(2),C("",e.name," - "),d(),re("href",e.web,ne),d(),I(e.web)}}function Ua(n,c){if(n&1&&(o(0,"div")(1,"h4"),l(2,"Alojamientos"),r(),f(3,$a,5,3,"ul",5),r()),n&2){let e=p();d(3),m("ngForOf",e.step3Details.accommodations)}}function Ka(n,c){if(n&1&&(o(0,"ul")(1,"li"),l(2),o(3,"a",13),l(4),r()()()),n&2){let e=c.$implicit;d(2),C("",e.name," - "),d(),re("href",e.web,ne),d(),I(e.web)}}function Ga(n,c){if(n&1&&(o(0,"div")(1,"h4"),l(2,"Restaurantes"),r(),f(3,Ka,5,3,"ul",5),r()),n&2){let e=p();d(3),m("ngForOf",e.step3Details.restaurants)}}function Wa(n,c){if(n&1&&(o(0,"ul")(1,"li"),l(2),o(3,"a",13),l(4),r()()()),n&2){let e=c.$implicit;d(2),C("",e.company," - "),d(),re("href",e.web,ne),d(),I(e.web)}}function Qa(n,c){if(n&1&&(o(0,"div")(1,"h4"),l(2,"Restaurantes"),r(),f(3,Wa,5,3,"ul",5),r()),n&2){let e=p();d(3),m("ngForOf",e.step3Details.transports)}}var Ti=(()=>{class n{constructor(e,i,t,a,s,u,y,x,ie,q,B){this.itineraryCreationService=e,this.itineraryService=i,this.categoryService=t,this.dayService=a,this.accommodationService=s,this.transportService=u,this.restaurantService=y,this.localStorageService=x,this.sharedService=ie,this.router=q,this.route=B,this.categories=[],this.isEditMode=!1,this.newItinerary=new Tt("","",new Date,"",0,"",new Date,new Date,0,0,[],"")}ngOnInit(){this.step1Data=this.itineraryCreationService.getStep1Data(),this.step2Days=this.itineraryCreationService.getStep2Days(),this.step3Details=this.itineraryCreationService.getStep3Details(),this.itineraryId=this.route.snapshot.paramMap.get("id")??void 0,this.itineraryId&&(this.isEditMode=!0)}modifyStep(e){this.isEditMode?this.router.navigateByUrl(`/itinerarios/editar/${e}/${this.itineraryId}`):this.router.navigateByUrl(`/itinerarios/crear-itinerario/${e}`)}createItinerary(){return new Promise((e,i)=>{let t=this.localStorageService.get("user_id");if(!t){i("No existe usuario autenticado");return}this.newItinerary=oe(T({},this.step1Data),{userId:t}),this.itineraryService.createItinerary(this.newItinerary).subscribe({next:a=>{let s=a.itineraryId;this.sharedService.setItineraryId(s),e(s)},error:a=>{this.sharedService.errorLog(a.error),i(a.error)}})})}createDays(e){return E(this,null,function*(){return new Promise((i,t)=>{let a=this.step2Days.map(s=>oe(T({},s),{itineraryId:e}));this.dayService.newDays(a).subscribe({next:s=>{i(s)},error:s=>{this.sharedService.errorLog(s.error),t(s.error)}})})})}deleteDays(e){return new Promise((i,t)=>{this.itineraryService.getItineraryById(e).subscribe({next:a=>{let s=a.days;if(s&&s.length>0){let u=s.length;s.forEach(y=>{this.dayService.deleteDay(y.dayId).subscribe({next:()=>{u--,u===0&&i()},error:x=>{console.error(`Error al eliminar el d\xEDa ${y.dayId}`,x),t(x)}})})}else i()},error:a=>{console.error("Error al obtener el itinerario:",a),t(a)}})})}updateItinerary(){return new Promise((e,i)=>{if(!this.itineraryId){i("No existe itineraryId para actualizar");return}let t=oe(T({},this.step1Data),{userId:this.localStorageService.get("user_id")||""});this.itineraryService.updateItinerary(this.itineraryId,t).subscribe({next:a=>{e(this.itineraryId)},error:a=>{this.sharedService.errorLog(a.error),i(a.error)}})})}linkAccommodations(e){return E(this,null,function*(){let i=this.step3Details.accommodations?.map(t=>t.accommodationId)??[];return i.length===0?Promise.resolve():this.accommodationService.linkAccommodationsToItinerary(e,i).toPromise().then(()=>{})})}linkRestaurants(e){return E(this,null,function*(){let i=this.step3Details.restaurants?.map(t=>t.restaurantId)??[];return i.length===0?Promise.resolve():this.restaurantService.linkRestaurantsToItinerary(e,i).toPromise().then(()=>{})})}linkTransports(e){return E(this,null,function*(){let i=this.step3Details.transports?.map(t=>t.transportId)??[];return i.length===0?Promise.resolve():this.transportService.linkTransportsToItinerary(e,i).toPromise().then(()=>{})})}onSubmitItinerary(){return E(this,null,function*(){let e=!1,i;try{this.isEditMode&&this.itineraryId&&(yield this.deleteDays(this.itineraryId));let t=yield this.isEditMode?this.updateItinerary():this.createItinerary();yield Promise.all([this.createDays(t),this.linkAccommodations(t),this.linkRestaurants(t),this.linkTransports(t)]),e=!0}catch(t){e=!1,i=t,this.sharedService.errorLog(t),console.error("Error al crear el itinerario:",t)}finally{yield this.sharedService.managementToast("toast",e,i),e&&(this.itineraryCreationService.reset(),this.router.navigate(["/usuario/mis-itinerarios"]))}})}getCoordenadasByName(e){let t=`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(e)}`;return fetch(t).then(a=>a.json()).then(a=>{if(a.length>0)return{lat:parseFloat(a[0].lat),lng:parseFloat(a[0].lon)};throw new Error("No se encontraron coordenadas")})}static{this.\u0275fac=function(i){return new(i||n)(h(ve),h(de),h(Pt),h(Lt),h(jt),h(Bt),h(zt),h(At),h(fe),h(ee),h($))}}static{this.\u0275cmp=w({type:n,selectors:[["app-itinerary-summery"]],decls:57,vars:9,consts:[[1,"summery-container"],[1,"itinerary-summary"],[1,"section-header"],["type","button",1,"btn-rounded",3,"click"],[1,"itinerary-days"],[4,"ngFor","ngForOf"],[1,"itinerary-extras"],[4,"ngIf"],[1,"flex-column"],["type","button",1,"primary","btn-large",3,"click"],[2,"margin-left","auto","margin-right","auto"],["id","toast"],[3,"innerHTML"],["target","_blank",3,"href"]],template:function(i,t){i&1&&(o(0,"div")(1,"h2"),l(2,"Resumen - Datos Itinerario"),r(),o(3,"div",0)(4,"section",1)(5,"div",2)(6,"h3"),l(7,"Datos b\xE1sicos"),r(),o(8,"button",3),g("click",function(){return t.modifyStep("paso-1")}),o(9,"mat-icon"),l(10,"edit"),r()()(),o(11,"p")(12,"strong"),l(13,"T\xEDtulo:"),r(),l(14),r(),o(15,"p")(16,"strong"),l(17,"Fecha de inicio:"),r(),l(18),r(),o(19,"p")(20,"strong"),l(21,"Fecha de fin:"),r(),l(22),r(),o(23,"p")(24,"strong"),l(25,"Califiaci\xF3n Itinerario:"),r(),l(26),r(),o(27,"p")(28,"strong"),l(29,"Presupuesto:"),r(),l(30),r(),o(31,"p")(32,"strong"),l(33,"Tipo de viaje:"),r()()(),o(34,"section",4)(35,"div",2)(36,"h3"),l(37,"D\xEDas"),r(),o(38,"button",3),g("click",function(){return t.modifyStep("paso-2")}),o(39,"mat-icon"),l(40,"edit"),r()()(),f(41,Ha,4,4,"div",5),r(),o(42,"section",6)(43,"div",2)(44,"h3"),l(45,"Extras"),r(),o(46,"button",3),g("click",function(){return t.modifyStep("paso-3")}),o(47,"mat-icon"),l(48,"edit"),r()()(),f(49,Ua,4,1,"div",7)(50,Ga,4,1,"div",7)(51,Qa,4,1,"div",7),r()(),o(52,"div",8)(53,"button",9),g("click",function(){return t.onSubmitItinerary()}),l(54,"SUBIR ITINERARIO"),r(),o(55,"div",10),_(56,"p",11),r()()()),i&2&&(d(14),C(" ",t.step1Data.title,""),d(4),C(" ",t.step1Data.startDate,""),d(4),C(" ",t.step1Data.endDate," "),d(4),C(" ",t.step1Data.rating," "),d(4),C(" ",t.step1Data.budget," \u20AC/persona"),d(11),m("ngForOf",t.step2Days),d(8),m("ngIf",t.step3Details.accommodations==null?null:t.step3Details.accommodations.length),d(),m("ngIf",t.step3Details.restaurants==null?null:t.step3Details.restaurants.length),d(),m("ngIf",t.step3Details.transports==null?null:t.step3Details.transports.length))},dependencies:[Z,W,me],styles:["*[_ngcontent-%COMP%], html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{font-family:Jura,sans-serif;font-size:1rem;font-weight:400}h1[_ngcontent-%COMP%]{font-size:1.7rem;font-weight:700;margin-bottom:1.5rem}h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1.5rem}h3[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:1rem}p[_ngcontent-%COMP%]{font-size:1rem;font-weight:400}.text-center[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{font-size:.9rem;border:none;border-radius:10px;padding:.7rem 0;cursor:pointer}button.primary[_ngcontent-%COMP%]{border:1px solid #106A8A;background-color:#106a8a;color:#fff}button.primary[_ngcontent-%COMP%]:hover{background-color:#fff;color:#106a8a}button.secondary[_ngcontent-%COMP%]{border:1px solid #16A8C1;background-color:#fff;color:#16a8c1}button.secondary[_ngcontent-%COMP%]:hover{background-color:#16a8c1;color:#fff}button.call-to-action[_ngcontent-%COMP%]{border:1px solid #F2C01C;background-color:#f2c01c;color:#000}button.call-to-action[_ngcontent-%COMP%]:hover{background-color:#fff;color:#f2c01c;font-weight:700}.btn-large[_ngcontent-%COMP%]{position:relative;justify-content:center;text-align:center;width:300px}.btn-large[_ngcontent-%COMP%]   .icon-right[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%)}.btn-large[_ngcontent-%COMP%]   .icon-left[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%)}.btn-small[_ngcontent-%COMP%]{position:relative;justify-content:center;text-align:center;width:150px}.btn-small[_ngcontent-%COMP%]   .icon-right[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%)}.btn-small[_ngcontent-%COMP%]   .icon-left[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%)}.btn-rounded[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border-radius:50%;width:36px;height:36px}a[_ngcontent-%COMP%]{font-size:1rem;text-decoration:none}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{font-weight:700;text-decoration:underline}.main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:1.5rem auto;width:80vw}.layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.flex-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;gap:1rem 0}.main-content[_ngcontent-%COMP%]{padding-top:80px;flex:1}@media (min-width: 769px){.main-content[_ngcontent-%COMP%]{padding-top:140px}}.error[_ngcontent-%COMP%]{color:red}#toast[_ngcontent-%COMP%]{visibility:hidden;min-width:250px;color:#fff;text-align:center;border-radius:10px;padding:16px;z-index:1;font-size:14px;margin-left:auto;margin-right:auto}#toast.requestOk[_ngcontent-%COMP%]{background-color:#16a8c1}#toast.requestKo[_ngcontent-%COMP%]{background-color:red}#toast.show[_ngcontent-%COMP%]{visibility:visible;-webkit-animation:_ngcontent-%COMP%_fadein .5s,fadeout .5s 2.5s;animation:_ngcontent-%COMP%_fadein .5s,fadeout .5s 2.5s}@-webkit-keyframes _ngcontent-%COMP%_fadein{0%{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@keyframes _ngcontent-%COMP%_fadein{0%{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@-webkit-keyframes _ngcontent-%COMP%_fadeout{0%{bottom:30px;opacity:1}to{bottom:0;opacity:0}}@keyframes _ngcontent-%COMP%_fadeout{0%{bottom:30px;opacity:1}to{bottom:0;opacity:0}}section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.65rem;background-color:#fff9eb;padding:1rem;margin:2rem 0}section[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:.65rem 0;list-style:none}section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .btn-rounded[_ngcontent-%COMP%]{background-color:#fff9eb}section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .btn-rounded[_ngcontent-%COMP%]:hover{background-color:#f2c01c}@media (min-width: 769px){.summery-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around}section[_ngcontent-%COMP%]{padding:2rem;width:30%}}"]})}}return n})();var Za=()=>["paso-1"],Xa=()=>["paso-2"],Ja=()=>["paso-3"],er=()=>["resumen"],ta=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=w({type:n,selectors:[["app-new-itinerary"]],decls:14,vars:8,consts:[[1,"new-itinerary-container"],[1,"steps"],["routerLinkActive","activo",3,"routerLink"],[1,"steps-container"]],template:function(i,t){i&1&&(o(0,"div",0)(1,"h1"),l(2,"Crear tu itinerario"),r(),o(3,"nav",1)(4,"button",2),l(5,"Paso 1"),r(),o(6,"button",2),l(7,"Paso 2"),r(),o(8,"button",2),l(9,"Paso 3"),r(),o(10,"button",2),l(11,"Resumen"),r()(),o(12,"section",3),_(13,"router-outlet"),r()()),i&2&&(d(4),m("routerLink",Me(4,Za)),d(2),m("routerLink",Me(5,Xa)),d(2),m("routerLink",Me(6,Ja)),d(2),m("routerLink",Me(7,er)))},dependencies:[ft,Fe,_t],styles:["*[_ngcontent-%COMP%], html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{font-family:Jura,sans-serif;font-size:1rem;font-weight:400}h1[_ngcontent-%COMP%]{font-size:1.7rem;font-weight:700;margin-bottom:1.5rem}h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1.5rem}h3[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:1rem}p[_ngcontent-%COMP%]{font-size:1rem;font-weight:400}.text-center[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{font-size:.9rem;border:none;border-radius:10px;padding:.7rem 0;cursor:pointer}button.primary[_ngcontent-%COMP%]{border:1px solid #106A8A;background-color:#106a8a;color:#fff}button.primary[_ngcontent-%COMP%]:hover{background-color:#fff;color:#106a8a}button.secondary[_ngcontent-%COMP%]{border:1px solid #16A8C1;background-color:#fff;color:#16a8c1}button.secondary[_ngcontent-%COMP%]:hover{background-color:#16a8c1;color:#fff}button.call-to-action[_ngcontent-%COMP%]{border:1px solid #F2C01C;background-color:#f2c01c;color:#000}button.call-to-action[_ngcontent-%COMP%]:hover{background-color:#fff;color:#f2c01c;font-weight:700}.btn-large[_ngcontent-%COMP%]{position:relative;justify-content:center;text-align:center;width:300px}.btn-large[_ngcontent-%COMP%]   .icon-right[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%)}.btn-large[_ngcontent-%COMP%]   .icon-left[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%)}.btn-small[_ngcontent-%COMP%]{position:relative;justify-content:center;text-align:center;width:150px}.btn-small[_ngcontent-%COMP%]   .icon-right[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%)}.btn-small[_ngcontent-%COMP%]   .icon-left[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%)}.btn-rounded[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border-radius:50%;width:36px;height:36px}a[_ngcontent-%COMP%]{font-size:1rem;text-decoration:none}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{font-weight:700;text-decoration:underline}.main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:1.5rem auto;width:80vw}.layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.flex-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;gap:1rem 0}.main-content[_ngcontent-%COMP%]{padding-top:80px;flex:1}@media (min-width: 769px){.main-content[_ngcontent-%COMP%]{padding-top:140px}}.error[_ngcontent-%COMP%]{color:red}#toast[_ngcontent-%COMP%]{visibility:hidden;min-width:250px;color:#fff;text-align:center;border-radius:10px;padding:16px;z-index:1;font-size:14px;margin-left:auto;margin-right:auto}#toast.requestOk[_ngcontent-%COMP%]{background-color:#16a8c1}#toast.requestKo[_ngcontent-%COMP%]{background-color:red}#toast.show[_ngcontent-%COMP%]{visibility:visible;-webkit-animation:_ngcontent-%COMP%_fadein .5s,fadeout .5s 2.5s;animation:_ngcontent-%COMP%_fadein .5s,fadeout .5s 2.5s}@-webkit-keyframes _ngcontent-%COMP%_fadein{0%{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@keyframes _ngcontent-%COMP%_fadein{0%{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@-webkit-keyframes _ngcontent-%COMP%_fadeout{0%{bottom:30px;opacity:1}to{bottom:0;opacity:0}}@keyframes _ngcontent-%COMP%_fadeout{0%{bottom:30px;opacity:1}to{bottom:0;opacity:0}}.new-itinerary-container[_ngcontent-%COMP%]{padding:2rem;width:100%}.new-itinerary-container[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:2rem}.new-itinerary-container[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:1px solid #ccc;padding:.5rem 1rem;cursor:pointer}.new-itinerary-container[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   button.activo[_ngcontent-%COMP%]{background-color:#16a8c1;color:#fff}.new-itinerary-container[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]{border-top:1px solid #ccc;padding-top:1rem}"]})}}return n})();function tr(n,c){n&1&&(o(0,"small"),l(1,"Destino obligatorio."),r())}function ir(n,c){n&1&&(o(0,"small"),l(1,"M\xEDnimo 3 caracteres."),r())}function nr(n,c){if(n&1&&(o(0,"div",23),f(1,tr,2,0,"small",24)(2,ir,2,0,"small",24),r()),n&2){let e=p(2);d(),m("ngIf",e.destination.errors==null?null:e.destination.errors.required),d(),m("ngIf",e.destination.errors==null?null:e.destination.errors.minlength)}}function ar(n,c){n&1&&(o(0,"div"),l(1," Campo requerido "),r())}function rr(n,c){if(n&1&&(o(0,"div",25),f(1,ar,2,0,"div",24),r()),n&2){let e=p(2);m("ngClass","error"),d(),m("ngIf",e.startDate.errors.required)}}function or(n,c){n&1&&(o(0,"div"),l(1," Campo requerido "),r())}function sr(n,c){if(n&1&&(o(0,"div",25),f(1,or,2,0,"div",24),r()),n&2){let e=p(2);m("ngClass","error"),d(),m("ngIf",e.endDate.errors.required)}}function lr(n,c){n&1&&(o(0,"small"),l(1,"La calificaci\xF3n m\xEDnima es 0"),r())}function dr(n,c){n&1&&(o(0,"small"),l(1,"La calificaci\xF3n m\xE1xima es 5"),r())}function cr(n,c){if(n&1&&(o(0,"div",23),f(1,lr,2,0,"small",24)(2,dr,2,0,"small",24),r()),n&2){let e=p(2);d(),m("ngIf",e.rating.errors==null?null:e.rating.errors.min),d(),m("ngIf",e.rating.errors==null?null:e.rating.errors.max)}}function mr(n,c){n&1&&(o(0,"small"),l(1,"El presupuesto m\xEDnimo es 0"),r())}function hr(n,c){if(n&1&&(o(0,"div",23),f(1,mr,2,0,"small",24),r()),n&2){let e=p(2);d(),m("ngIf",e.rating.errors==null?null:e.rating.errors.min)}}function pr(n,c){if(n&1&&(o(0,"option",26),l(1),r()),n&2){let e=c.$implicit;m("ngValue",e.categoryId),d(),C(" ",e.title," ")}}function ur(n,c){if(n&1){let e=S();o(0,"form",4),g("ngSubmit",function(){v(e);let t=p();return b(t.saveItinerary())}),o(1,"P",5),l(2,"*Los campos marcados con aster\xEDsco son obligatorios"),r(),o(3,"div",6)(4,"label",7),l(5,"Destino *"),r(),_(6,"input",8),f(7,nr,3,2,"div",9),r(),o(8,"div",6)(9,"label",10),l(10,"Fecha inicio"),r(),_(11,"input",11),f(12,rr,2,2,"div",12),r(),o(13,"div",6)(14,"label",13),l(15,"Fecha fin"),r(),_(16,"input",11),f(17,sr,2,2,"div",12),r(),o(18,"div",6)(19,"label",14),l(20,"Calificaci\xF3n itinerario (Entre 0 y 5)"),r(),_(21,"input",15),f(22,cr,3,2,"div",9),r(),o(23,"div",6)(24,"label",16),l(25,"Presupuesto por persona (\u20AC)"),r(),_(26,"input",8),f(27,hr,2,1,"div",9),r(),o(28,"div",6)(29,"label",17),l(30,"Selecciona el tipo de viaje"),r(),o(31,"select",18),f(32,pr,2,2,"option",19),r()(),o(33,"div",6)(34,"label",20),l(35,"Subir imagen de portada"),r(),o(36,"input",21),g("change",function(t){v(e);let a=p();return b(a.onFileChange(t))}),r()(),o(37,"button",22),l(38,"GUARDAR Y CONTINUAR"),r()()}if(n&2){let e=p();m("formGroup",e.formStep1),d(6),m("formControl",e.destination),d(),m("ngIf",e.destination.invalid&&(e.destination.dirty||e.destination.touched)),d(4),m("formControl",e.startDate),d(),m("ngIf",e.startDate.errors&&e.isValidForm!=null&&!e.isValidForm),d(4),m("formControl",e.endDate),d(),m("ngIf",e.endDate.errors&&e.isValidForm!=null&&!e.isValidForm),d(4),m("formControl",e.rating),d(),m("ngIf",e.rating.invalid&&(e.rating.dirty||e.rating.touched)),d(4),m("formControl",e.budget),d(),m("ngIf",e.budget.invalid&&(e.budget.dirty||e.budget.touched)),d(4),m("formControl",e.categories),d(),m("ngForOf",e.categoriesList)}}var Fi=(()=>{class n{constructor(e,i,t,a,s,u,y,x){this.formBuilder=e,this.itineraryService=i,this.itineraryCreationService=t,this.sharedService=a,this.router=s,this.localStorageService=u,this.categoryService=y,this.route=x,this.isEditMode=!1,this.newItinerary=new Tt("","",new Date,"",0,"",new Date,new Date,0,0,[],""),this.isValidForm=null,this.destination=new ue(this.newItinerary.destination,[M.required,M.minLength(3)]),this.startDate=new ue(ii(this.newItinerary.startDate,"yyyy-MM-dd","en"),[M.required]),this.endDate=new ue(ii(this.newItinerary.endDate,"yyyy-MM-dd","en"),[M.required]),this.rating=new ue(this.newItinerary.rating,[M.min(0),M.max(5)]),this.budget=new ue(this.newItinerary.budget,[M.min(0)]),this.coverImage=new ue(this.newItinerary.coverImage,[]),this.categories=new ue([]),this.loadCategories(),this.formStep1=this.formBuilder.group({title:"",publicationDate:new Date,destination:this.destination,duration:0,startDate:this.startDate,endDate:this.endDate,rating:this.rating,budget:this.budget,coverImage:this.coverImage,categories:this.categories}),this.startDate.valueChanges.subscribe(()=>this.updateForm()),this.endDate.valueChanges.subscribe(()=>this.updateForm())}loadCategories(){return E(this,null,function*(){let e;this.categoryService.getCategories().subscribe({next:i=>{this.categoriesList=i},error:i=>{e=i.error,this.sharedService.errorLog(e)}})})}ngOnInit(){return E(this,null,function*(){this.itineraryId=this.route.snapshot.paramMap.get("id")??void 0,this.itineraryId&&(this.isEditMode=!0,this.itineraryService.getItineraryById(this.itineraryId).subscribe({next:i=>{this.itineraryCreationService.loadExistingItinerary(i);let t=this.itineraryCreationService.getStep1Data();t.categories&&Array.isArray(t.categories)&&(t=oe(T({},t),{categories:t.categories.map(a=>a.categoryId)})),this.formStep1.patchValue(t)},error:i=>{console.error("Error al cargar itinerario para edici\xF3n",i)}})),this.itineraryCreationService.setDraftMode(this.isEditMode?"edit":"new",this.itineraryId??void 0);let e=this.itineraryCreationService.getStep1Data();e&&this.formStep1.patchValue(e),this.loadCategories(),this.startDate.valueChanges.subscribe(()=>this.updateForm()),this.endDate.valueChanges.subscribe(()=>this.updateForm())})}updateForm(){let e=new Date(this.startDate.value),i=new Date(this.endDate.value);if(!isNaN(e.getTime())&&!isNaN(i.getTime())){let t=this.calculateDuration(e,i);this.formStep1.patchValue({duration:t,title:`Itinerario de ${t} d\xEDas por ${this.destination.value}`},{emitEvent:!1})}}onFileChange(e){let i=e.target.files[0];i&&this.uploadImage(i)}uploadImage(e){let i=new FormData;i.append("coverImage",e,e.name),this.itineraryService.uploadImage(i).subscribe({next:t=>{this.coverImage.setValue(t.fileName)},error:t=>{console.error("Error al subir la imagen",t)}})}calculateDuration(e,i){let t=i.getTime()-e.getTime();return Math.ceil(t/(1e3*60*60*24))+1}saveItinerary(){return E(this,null,function*(){if(this.isValidForm=!1,this.formStep1.invalid)return;this.isValidForm=!0,this.updateForm();let e=this.formStep1.value;this.itineraryCreationService.setStep1(e),this.itineraryCreationService.saveToLocalStorage(),this.isEditMode?this.router.navigateByUrl(`/itinerarios/editar/paso-2/${this.itineraryId}`):this.router.navigateByUrl("/itinerarios/crear-itinerario/paso-2")})}static{this.\u0275fac=function(i){return new(i||n)(h(yn),h(de),h(ve),h(fe),h(ee),h(At),h(Pt),h($))}}static{this.\u0275cmp=w({type:n,selectors:[["app-step1-basic-data"]],decls:6,vars:1,consts:[[1,"main-container"],[3,"formGroup","ngSubmit",4,"ngIf"],[2,"margin-left","auto","margin-right","auto"],["id","step1Feedback"],[3,"ngSubmit","formGroup"],[1,"alert"],[1,"form-item"],["for","destination"],["type","text",3,"formControl"],["class","error",4,"ngIf"],["for","startDate"],["type","date",3,"formControl"],[3,"ngClass",4,"ngIf"],["for","endDate"],["for","rating"],["type","number",3,"formControl"],["for","budget"],["for","categories"],["multiple","",3,"formControl"],[3,"ngValue",4,"ngFor","ngForOf"],["for","coverImage"],["type","file",3,"change"],["type","submit",1,"primary","btn-large"],[1,"error"],[4,"ngIf"],[3,"ngClass"],[3,"ngValue"]],template:function(i,t){i&1&&(o(0,"div",0)(1,"h2"),l(2,"Paso 1 - Datos b\xE1sicos"),r(),f(3,ur,39,13,"form",1),o(4,"div",2),_(5,"p",3),r()()),i&2&&(d(3),m("ngIf",t.formStep1))},dependencies:[xe,Z,W,Re,wt,St,he,yt,vn,pe,Ve,Ct,Ne],styles:["*[_ngcontent-%COMP%], html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{font-family:Jura,sans-serif;font-size:1rem;font-weight:400}h1[_ngcontent-%COMP%]{font-size:1.7rem;font-weight:700;margin-bottom:1.5rem}h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1.5rem}h3[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:1rem}p[_ngcontent-%COMP%]{font-size:1rem;font-weight:400}.text-center[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{font-size:.9rem;border:none;border-radius:10px;padding:.7rem 0;cursor:pointer}button.primary[_ngcontent-%COMP%]{border:1px solid #106A8A;background-color:#106a8a;color:#fff}button.primary[_ngcontent-%COMP%]:hover{background-color:#fff;color:#106a8a}button.secondary[_ngcontent-%COMP%]{border:1px solid #16A8C1;background-color:#fff;color:#16a8c1}button.secondary[_ngcontent-%COMP%]:hover{background-color:#16a8c1;color:#fff}button.call-to-action[_ngcontent-%COMP%]{border:1px solid #F2C01C;background-color:#f2c01c;color:#000}button.call-to-action[_ngcontent-%COMP%]:hover{background-color:#fff;color:#f2c01c;font-weight:700}.btn-large[_ngcontent-%COMP%]{position:relative;justify-content:center;text-align:center;width:300px}.btn-large[_ngcontent-%COMP%]   .icon-right[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%)}.btn-large[_ngcontent-%COMP%]   .icon-left[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%)}.btn-small[_ngcontent-%COMP%]{position:relative;justify-content:center;text-align:center;width:150px}.btn-small[_ngcontent-%COMP%]   .icon-right[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%)}.btn-small[_ngcontent-%COMP%]   .icon-left[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%)}.btn-rounded[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border-radius:50%;width:36px;height:36px}a[_ngcontent-%COMP%]{font-size:1rem;text-decoration:none}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{font-weight:700;text-decoration:underline}.main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:1.5rem auto;width:80vw}.layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.flex-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;gap:1rem 0}.main-content[_ngcontent-%COMP%]{padding-top:80px;flex:1}@media (min-width: 769px){.main-content[_ngcontent-%COMP%]{padding-top:140px}}.error[_ngcontent-%COMP%]{color:red}#toast[_ngcontent-%COMP%]{visibility:hidden;min-width:250px;color:#fff;text-align:center;border-radius:10px;padding:16px;z-index:1;font-size:14px;margin-left:auto;margin-right:auto}#toast.requestOk[_ngcontent-%COMP%]{background-color:#16a8c1}#toast.requestKo[_ngcontent-%COMP%]{background-color:red}#toast.show[_ngcontent-%COMP%]{visibility:visible;-webkit-animation:_ngcontent-%COMP%_fadein .5s,fadeout .5s 2.5s;animation:_ngcontent-%COMP%_fadein .5s,fadeout .5s 2.5s}@-webkit-keyframes _ngcontent-%COMP%_fadein{0%{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@keyframes _ngcontent-%COMP%_fadein{0%{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@-webkit-keyframes _ngcontent-%COMP%_fadeout{0%{bottom:30px;opacity:1}to{bottom:0;opacity:0}}@keyframes _ngcontent-%COMP%_fadeout{0%{bottom:30px;opacity:1}to{bottom:0;opacity:0}}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;margin-top:1rem}form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1.2rem;width:100%}form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#fff9eb;padding:.7rem;border-radius:8px;border:none;border-bottom:1px solid #F2C01C;margin-top:.5rem}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem}"]})}}return n})();var Yt={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},Vi=new ye("config",{providedIn:"root",factory:()=>({modules:Yt})});var gr=[[["","above-quill-editor-toolbar",""]],[["","quill-editor-toolbar",""]],[["","below-quill-editor-toolbar",""]]],fr=["[above-quill-editor-toolbar]","[quill-editor-toolbar]","[below-quill-editor-toolbar]"];function _r(n,c){n&1&&_(0,"pre",3)}function vr(n,c){if(n&1&&f(0,_r,1,0,"pre",2),n&2){let e=p(),i=ut(6);m("ngIf",e.preserve)("ngIfElse",i)}}function br(n,c){n&1&&_(0,"pre",3)}function yr(n,c){if(n&1&&f(0,br,1,0,"pre",2),n&2){let e=p(),i=ut(6);m("ngIf",e.preserve)("ngIfElse",i)}}function Cr(n,c){n&1&&_(0,"div",3)}function Dr(n,c){n&1&&_(0,"div",1)}function Mr(n,c){n&1&&_(0,"pre",1)}var tt=(n,c)=>n||c||"html",Ri=(()=>{class n{constructor(e,i){this.config=i,this.quill$=qi(()=>E(this,null,function*(){if(!this.Quill){let t=this.document.addEventListener;this.document.addEventListener=this.document.__zone_symbol__addEventListener||this.document.addEventListener;let a=yield import("./chunk-YYKNGNF6.js");this.document.addEventListener=t,this.Quill=a.default?a.default:a}return this.config.customOptions?.forEach(t=>{let a=this.Quill.import(t.import);a.whitelist=t.whitelist,this.Quill.register(a,!0,this.config.suppressGlobalRegisterWarning)}),yield this.registerCustomModules(this.Quill,this.config.customModules,this.config.suppressGlobalRegisterWarning)})).pipe(Ui({bufferSize:1,refCount:!0})),this.document=e.get(gt),this.config||(this.config={modules:Yt})}getQuill(){return this.quill$}registerCustomModules(e,i,t){return E(this,null,function*(){if(Array.isArray(i))for(let{implementation:a,path:s}of i)Bi(a)&&(a=yield zi(a)),e.register(s,a,t);return e})}static{this.\u0275fac=function(i){return new(i||n)(V(Wt),V(Vi,8))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),xr=(()=>{class n{constructor(){this.required=!1,this.customToolbarPosition="top",this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.compareValues=!1,this.filterNull=!1,this.defaultEmptyValue=null,this.onEditorCreated=new D,this.onEditorChanged=new D,this.onContentChanged=new D,this.onSelectionChanged=new D,this.onFocus=new D,this.onBlur=new D,this.onNativeFocus=new D,this.onNativeBlur=new D,this.disabled=!1,this.preserve=!1,this.toolbarPosition="top",this.subscription=null,this.quillSubscription=null,this.elementRef=R(Q),this.document=R(gt),this.cd=R(G),this.domSanitizer=R(Ke),this.platformId=R(Qt),this.renderer=R(lt),this.zone=R(ae),this.service=R(Ri),this.valueGetter=(e,i)=>{let t=i.querySelector(".ql-editor").innerHTML;(t==="<p><br></p>"||t==="<div><br></div>")&&(t=this.defaultEmptyValue);let a=t,s=tt(this.format,this.service.config.format);if(s==="text")a=e.getText();else if(s==="object")a=e.getContents();else if(s==="json")try{a=JSON.stringify(e.getContents())}catch{a=e.getText()}return a},this.valueSetter=(e,i)=>{let t=tt(this.format,this.service.config.format);if(t==="html")return([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(i=this.domSanitizer.sanitize(Zt.HTML,i)),e.clipboard.convert(i);if(t==="json")try{return JSON.parse(i)}catch{return[{insert:i}]}return i},this.selectionChangeHandler=(e,i,t)=>{let a=this.trackChanges||this.service.config.trackChanges,s=!e&&!!this.onModelTouched&&(t==="user"||a&&a==="all");!this.onBlur.observed&&!this.onFocus.observed&&!this.onSelectionChanged.observed&&!s||this.zone.run(()=>{e===null?this.onBlur.emit({editor:this.quillEditor,source:t}):i===null&&this.onFocus.emit({editor:this.quillEditor,source:t}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:i,range:e,source:t}),s&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(e,i,t)=>{let a=this.quillEditor.getText(),s=this.quillEditor.getContents(),u=this.editorElem.querySelector(".ql-editor").innerHTML;(u==="<p><br></p>"||u==="<div><br></div>")&&(u=this.defaultEmptyValue);let y=this.trackChanges||this.service.config.trackChanges,x=(t==="user"||y&&y==="all")&&!!this.onModelChange;!this.onContentChanged.observed&&!x||this.zone.run(()=>{x&&this.onModelChange(this.valueGetter(this.quillEditor,this.editorElem)),this.onContentChanged.emit({content:s,delta:e,editor:this.quillEditor,html:u,oldDelta:i,source:t,text:a}),this.cd.markForCheck()})},this.editorChangeHandler=(e,i,t,a)=>{if(this.onEditorChanged.observed)if(e==="text-change"){let s=this.quillEditor.getText(),u=this.quillEditor.getContents(),y=this.editorElem.querySelector(".ql-editor").innerHTML;(y==="<p><br></p>"||y==="<div><br></div>")&&(y=this.defaultEmptyValue),this.zone.run(()=>{this.onEditorChanged.emit({content:u,delta:i,editor:this.quillEditor,event:e,html:y,oldDelta:t,source:a,text:s}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:e,oldRange:t,range:i,source:a}),this.cd.markForCheck()})}}static normalizeClassNames(e){return e.trim().split(" ").reduce((t,a)=>{let s=a.trim();return s&&t.push(s),t},[])}ngOnInit(){this.preserve=this.preserveWhitespace,this.toolbarPosition=this.customToolbarPosition}ngAfterViewInit(){ni(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe(Ht(e=>{let i=[this.service.registerCustomModules(e,this.customModules)],t=this.beforeRender??this.service.config.beforeRender;return t&&i.push(t()),Promise.all(i).then(()=>e)})).subscribe(e=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");let i=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),t=Object.assign({},this.modules||this.service.config.modules);i?t.toolbar=i:t.toolbar===void 0&&(t.toolbar=Yt.toolbar);let a=this.placeholder!==void 0?this.placeholder:this.service.config.placeholder;a===void 0&&(a="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach(B=>{this.renderer.setStyle(this.editorElem,B,this.styles[B])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(B=>{let be=e.import(B.import);be.whitelist=B.whitelist,e.register(be,!0)});let s=this.bounds&&this.bounds==="self"?this.editorElem:this.bounds;s||(s=this.service.config.bounds?this.service.config.bounds:this.document.body);let u=this.debug;!u&&u!==!1&&this.service.config.debug&&(u=this.service.config.debug);let y=this.readOnly;!y&&this.readOnly!==!1&&(y=this.service.config.readOnly!==void 0?this.service.config.readOnly:!1);let x=this.defaultEmptyValue;this.service.config.hasOwnProperty("defaultEmptyValue")&&(x=this.service.config.defaultEmptyValue);let ie=this.scrollingContainer;!ie&&this.scrollingContainer!==null&&(ie=this.service.config.scrollingContainer===null||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null);let q=this.formats;if(!q&&q===void 0&&(q=this.service.config.formats?[...this.service.config.formats]:this.service.config.formats===null?null:void 0),this.zone.runOutsideAngular(()=>{if(this.quillEditor=new e(this.editorElem,{bounds:s,debug:u,formats:q,modules:t,placeholder:a,readOnly:y,defaultEmptyValue:x,scrollingContainer:ie,strict:this.strict,theme:this.theme||(this.service.config.theme?this.service.config.theme:"snow")}),this.onNativeBlur.observed&&(this.quillEditor.scroll.domNode.addEventListener("blur",()=>this.onNativeBlur.next({editor:this.quillEditor,source:"dom"})),this.quillEditor.getModule("toolbar").container.addEventListener("mousedown",B=>B.preventDefault())),this.onNativeFocus.observed&&this.quillEditor.scroll.domNode.addEventListener("focus",()=>this.onNativeFocus.next({editor:this.quillEditor,source:"dom"})),this.linkPlaceholder){let be=this.quillEditor?.theme?.tooltip?.root?.querySelector("input[data-link]");be?.dataset&&(be.dataset.link=this.linkPlaceholder)}}),this.content){if(tt(this.format,this.service.config.format)==="text")this.quillEditor.setText(this.content,"silent");else{let be=this.valueSetter(this.quillEditor,this.content);this.quillEditor.setContents(be,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),!(!this.onEditorCreated.observed&&!this.onValidatorChanged)&&requestAnimationFrame(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor),this.onEditorCreated.complete()})}))}ngOnDestroy(){this.dispose(),this.quillSubscription?.unsubscribe(),this.quillSubscription=null}ngOnChanges(e){if(this.quillEditor){if(e.readOnly&&this.quillEditor.enable(!e.readOnly.currentValue),e.placeholder&&(this.quillEditor.root.dataset.placeholder=e.placeholder.currentValue),e.defaultEmptyValue&&(this.quillEditor.root.dataset.defaultEmptyValue=e.defaultEmptyValue.currentValue),e.styles){let i=e.styles.currentValue,t=e.styles.previousValue;t&&Object.keys(t).forEach(a=>{this.renderer.removeStyle(this.editorElem,a)}),i&&Object.keys(i).forEach(a=>{this.renderer.setStyle(this.editorElem,a,this.styles[a])})}if(e.classes){let i=e.classes.currentValue,t=e.classes.previousValue;t&&this.removeClasses(t),i&&this.addClasses(i)}e.debounceTime&&this.addQuillEventListeners()}}addClasses(e){n.normalizeClassNames(e).forEach(i=>{this.renderer.addClass(this.editorElem,i)})}removeClasses(e){n.normalizeClassNames(e).forEach(i=>{this.renderer.removeClass(this.editorElem,i)})}writeValue(e){if(this.filterNull&&e===null||(this.content=e,!this.quillEditor))return;let i=tt(this.format,this.service.config.format),t=this.valueSetter(this.quillEditor,e);if(this.compareValues){let a=this.quillEditor.getContents();if(JSON.stringify(a)===JSON.stringify(t))return}if(e){i==="text"?this.quillEditor.setText(e):this.quillEditor.setContents(t);return}this.quillEditor.setText("")}setDisabledState(e=this.disabled){this.disabled=e,this.quillEditor&&(e?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}registerOnValidatorChange(e){this.onValidatorChanged=e}validate(){if(!this.quillEditor)return null;let e={},i=!0,t=this.quillEditor.getText(),a=this.trimOnValidation?t.trim().length:t.length===1&&t.trim().length===0?0:t.length-1,s=this.quillEditor.getContents().ops,u=s&&s.length===1&&[`
`,""].includes(s[0].insert);return this.minLength&&a&&a<this.minLength&&(e.minLengthError={given:a,minLength:this.minLength},i=!1),this.maxLength&&a>this.maxLength&&(e.maxLengthError={given:a,maxLength:this.maxLength},i=!1),this.required&&!a&&u&&(e.requiredError={empty:!0},i=!1),i?null:e}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new se,this.subscription.add(at(this.quillEditor,"selection-change").subscribe(([t,a,s])=>{this.selectionChangeHandler(t,a,s)}));let e=at(this.quillEditor,"text-change"),i=at(this.quillEditor,"editor-change");typeof this.debounceTime=="number"&&(e=e.pipe(He(this.debounceTime)),i=i.pipe(He(this.debounceTime))),this.subscription.add(e.subscribe(([t,a,s])=>{this.textChangeHandler(t,a,s)})),this.subscription.add(i.subscribe(([t,a,s,u])=>{this.editorChangeHandler(t,a,s,u)}))})}dispose(){this.subscription!==null&&(this.subscription.unsubscribe(),this.subscription=null)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=De({type:n,inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",required:"required",formats:"formats",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",beforeRender:"beforeRender",styles:"styles",strict:"strict",scrollingContainer:"scrollingContainer",bounds:"bounds",customOptions:"customOptions",customModules:"customModules",trackChanges:"trackChanges",preserveWhitespace:"preserveWhitespace",classes:"classes",trimOnValidation:"trimOnValidation",linkPlaceholder:"linkPlaceholder",compareValues:"compareValues",filterNull:"filterNull",debounceTime:"debounceTime",defaultEmptyValue:"defaultEmptyValue",valueGetter:"valueGetter",valueSetter:"valueSetter"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur",onNativeFocus:"onNativeFocus",onNativeBlur:"onNativeBlur"},features:[K]})}}return n})(),it=(()=>{class n extends xr{static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=Kt(n)))(t||n)}})()}static{this.\u0275cmp=w({type:n,selectors:[["quill-editor"]],standalone:!0,features:[Te([{multi:!0,provide:pn,useExisting:$e(()=>n)},{multi:!0,provide:un,useExisting:$e(()=>n)}]),Xt,j],ngContentSelectors:fr,decls:7,vars:2,consts:[["noPreserveTpl",""],[3,"ngIf"],["quill-editor-element","",4,"ngIf","ngIfElse"],["quill-editor-element",""]],template:function(i,t){i&1&&(Ee(gr),f(0,vr,1,2,"ng-template",1),le(1),le(2,1),le(3,2),f(4,yr,1,2,"ng-template",1)(5,Cr,1,0,"ng-template",null,0,an)),i&2&&(m("ngIf",t.toolbarPosition!=="top"),d(4),m("ngIf",t.toolbarPosition==="top"))},dependencies:[X,W],styles:["[_nghost-%COMP%]{display:inline-block}"]})}}return n})(),wr=(()=>{class n{constructor(e,i){this.sanitizer=e,this.service=i,this.content="",this.innerHTML="",this.themeClass="ql-snow"}ngOnChanges(e){if(e.theme){let i=e.theme.currentValue||(this.service.config.theme?this.service.config.theme:"snow");this.themeClass=`ql-${i} ngx-quill-view-html`}else if(!this.theme){let i=this.service.config.theme?this.service.config.theme:"snow";this.themeClass=`ql-${i} ngx-quill-view-html`}if(e.content){let i=e.content.currentValue,t=[!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1;this.innerHTML=t?i:this.sanitizer.bypassSecurityTrustHtml(i)}}static{this.\u0275fac=function(i){return new(i||n)(h(Ke),h(Ri))}}static{this.\u0275cmp=w({type:n,selectors:[["quill-view-html"]],inputs:{content:"content",theme:"theme",sanitize:"sanitize"},standalone:!0,features:[K,j],decls:2,vars:2,consts:[[1,"ql-container",3,"ngClass"],[1,"ql-editor",3,"innerHTML"]],template:function(i,t){i&1&&(o(0,"div",0),_(1,"div",1),r()),i&2&&(m("ngClass",t.themeClass),d(),m("innerHTML",t.innerHTML,st))},dependencies:[X,xe],styles:[`.ql-container.ngx-quill-view-html{border:0}
`],encapsulation:2})}}return n})(),Sr=(()=>{class n{constructor(e,i,t,a,s,u){this.elementRef=e,this.renderer=i,this.zone=t,this.service=a,this.domSanitizer=s,this.platformId=u,this.strict=!0,this.customModules=[],this.customOptions=[],this.preserveWhitespace=!1,this.onEditorCreated=new D,this.preserve=!1,this.quillSubscription=null,this.valueSetter=(y,x)=>{let ie=tt(this.format,this.service.config.format),q=x;if(ie==="text")y.setText(q);else{if(ie==="html")([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(x=this.domSanitizer.sanitize(Zt.HTML,x)),q=y.clipboard.convert(x);else if(ie==="json")try{q=JSON.parse(x)}catch{q=[{insert:x}]}y.setContents(q)}}}ngOnInit(){this.preserve=this.preserveWhitespace}ngOnChanges(e){this.quillEditor&&e.content&&this.valueSetter(this.quillEditor,e.content.currentValue)}ngAfterViewInit(){ni(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe(Ht(e=>{let i=[this.service.registerCustomModules(e,this.customModules)],t=this.beforeRender??this.service.config.beforeRender;return t&&i.push(t()),Promise.all(i).then(()=>e)})).subscribe(e=>{let i=Object.assign({},this.modules||this.service.config.modules);i.toolbar=!1,this.customOptions.forEach(u=>{let y=e.import(u.import);y.whitelist=u.whitelist,e.register(y,!0)});let t=this.debug;!t&&t!==!1&&this.service.config.debug&&(t=this.service.config.debug);let a=this.formats;!a&&a===void 0&&(a=this.service.config.formats?Object.assign({},this.service.config.formats):this.service.config.formats===null?null:void 0);let s=this.theme||(this.service.config.theme?this.service.config.theme:"snow");this.editorElem=this.elementRef.nativeElement.querySelector("[quill-view-element]"),this.zone.runOutsideAngular(()=>{this.quillEditor=new e(this.editorElem,{debug:t,formats:a,modules:i,readOnly:!0,strict:this.strict,theme:s})}),this.renderer.addClass(this.editorElem,"ngx-quill-view"),this.content&&this.valueSetter(this.quillEditor,this.content),this.onEditorCreated.observers.length&&requestAnimationFrame(()=>{this.onEditorCreated.emit(this.quillEditor),this.onEditorCreated.complete()})}))}ngOnDestroy(){this.quillSubscription?.unsubscribe(),this.quillSubscription=null}static{this.\u0275fac=function(i){return new(i||n)(h(Q),h(lt),h(ae),h(Ri),h(Ke),h(Qt))}}static{this.\u0275cmp=w({type:n,selectors:[["quill-view"]],inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",formats:"formats",sanitize:"sanitize",beforeRender:"beforeRender",strict:"strict",content:"content",customModules:"customModules",customOptions:"customOptions",preserveWhitespace:"preserveWhitespace"},outputs:{onEditorCreated:"onEditorCreated"},standalone:!0,features:[K,j],decls:2,vars:2,consts:[["quill-view-element","",4,"ngIf"],["quill-view-element",""]],template:function(i,t){i&1&&f(0,Dr,1,0,"div",0)(1,Mr,1,0,"pre",0),i&2&&(m("ngIf",!t.preserve),d(),m("ngIf",t.preserve))},dependencies:[X,W],styles:[`.ql-container.ngx-quill-view{border:0}
`],encapsulation:2})}}return n})(),ia=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:Vi,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=N({type:n})}static{this.\u0275inj=F({imports:[it,Sr,wr]})}}return n})();var qt=class{constructor(c,e,i,t,a){this.startLocation=c,this.endLocation=e,this.description=i,this.dayNumber=t,this.itineraryId=a}};function kr(n,c){if(n&1){let e=S();o(0,"div",7)(1,"h3"),l(2),r(),o(3,"div",8)(4,"label",9),l(5,"Lugar de inicio *"),r(),_(6,"input",10),r(),o(7,"div",8)(8,"label",11),l(9,"Lugar de fin *"),r(),_(10,"input",12),r(),o(11,"label"),l(12),r(),o(13,"quill-editor",13),g("onContentChanged",function(t){let a=v(e).index,s=p();return b(s.onEditorContentChanged(t,a))}),r(),o(14,"div",14)(15,"button",15),g("click",function(){v(e);let t=p();return b(t.addNewDay())}),l(16,"GUARDAR Y A\xD1ADIR OTRO D\xCDA"),r(),o(17,"button",16),g("click",function(){let t=v(e).index,a=p();return b(a.removeDay(t))}),l(18,"ELIMINAR ESTE D\xCDA"),r()()()}if(n&2){let e=c.index,i=p();m("formGroupName",e),d(2),C("D\xEDa: ",e+1,""),d(10),C("Descripci\xF3n del d\xEDa ",e+1,""),d(),m("modules",i.getQuillModules(e))}}var Ni=(()=>{class n{constructor(e,i,t,a,s,u,y){this.formBuilder=e,this.http=i,this.itineraryCreationService=t,this.router=a,this.route=s,this.sharedService=u,this.dayService=y,this.dayCount=0,this.itineraryDuration=0,this.isEditMode=!1,this.editorContent="",this.dayForm=this.formBuilder.group({days:this.formBuilder.array([])})}ngOnInit(){let e=this.itineraryCreationService.getStep1Data();this.itineraryDuration=e.duration??0,this.itineraryId=this.route.snapshot.paramMap.get("id")??void 0,this.itineraryId&&(this.isEditMode=!0);let i=this.itineraryCreationService.getExistingItinerary();i&&i.days&&i.days.length>0?(this.days.clear(),i.days.forEach(t=>this.addNewDayFromData(t))):this.loadDraftDays(),this.dayForm.valueChanges.subscribe(()=>{this.saveDraftDays()})}saveDraftDays(){let e=this.days.getRawValue();this.itineraryCreationService.setStep2Days(e)}loadDraftDays(){let e=this.itineraryCreationService.getStep2Days();e.length>0?e.forEach(i=>this.addNewDayFromData(i)):this.addNewDay()}addNewDayFromData(e){let i=this.formBuilder.group({dayNumber:[e.dayNumber],startLocation:[e.startLocation,M.required],endLocation:[e.endLocation,M.required],description:[e.description||""],dayId:[e.dayId||""]});this.days.push(i),this.dayCount=this.days.length,this.updateDayNumbers()}addNewDay(){if(this.days.length>=this.itineraryDuration){this.sharedService.managementToast("toast",!0,void 0,"No puedes a\xF1adir m\xE1s d\xEDas que la duraci\xF3n del itinerario");return}let e=this.formBuilder.group({dayNumber:[this.dayCount+1],startLocation:["",M.required],endLocation:["",M.required],description:[""]});this.days.push(e),this.dayCount=this.days.length,this.updateDayNumbers()}get days(){return this.dayForm.get("days")}removeDay(e){let i=this.days.at(e).value.dayId;this.days.removeAt(e),this.dayCount=this.days.length,this.updateDayNumbers(),this.isEditMode&&i&&this.dayService.deleteDay(i).subscribe({next:t=>{console.log(`D\xEDa ${i} eliminado en backend, filas afectadas:`,t.affected)},error:t=>{console.error(`Error al eliminar d\xEDa ${i} en backend`,t)}})}updateDayNumbers(){this.days.controls.forEach((e,i)=>{e.get("dayNumber")?.setValue(i+1)})}getQuillModules(e){return{toolbar:{container:[["bold","italic","underline"],["image"]],handlers:{image:()=>this.customImageUpload(e)}}}}customImageUpload(e){let i=document.createElement("input");i.setAttribute("type","file"),i.setAttribute("accept","image/*"),i.click(),i.onchange=()=>E(this,null,function*(){let t=i.files[0],a=new FormData;a.append("coverImage",t);try{let s=yield this.http.post("http://localhost:3000/itineraries/upload-image",a).toPromise(),u=this.quillEditors.get(e);if(!u){console.error("Editor no encontrado para el \xEDndice",e);return}let y=u.quillEditor,x=y.getSelection(!0);x&&(y.insertEmbed(x.index,"image",s.url),y.setSelection({index:x.index+1,length:0}))}catch(s){console.error("Error subiendo imagen:",s)}})}onEditorContentChanged(e,i){let t=e.html,a=this.days.at(i).get("description");a?.value!==t&&a?.patchValue(t,{emitEvent:!1})}onSubmit(){if(this.dayForm.valid){let e=this.days.controls.map(i=>new qt(i.get("startLocation")?.value,i.get("endLocation")?.value,i.get("description")?.value,i.get("dayNumber")?.value,this.itineraryId));this.itineraryCreationService.setStep2Days(e),this.isEditMode?this.router.navigateByUrl(`/itinerarios/editar/paso-3/${this.itineraryId}`):this.router.navigateByUrl("/itinerarios/crear-itinerario/paso-3")}else console.log("Formulario inv\xE1lido")}static{this.\u0275fac=function(i){return new(i||n)(h(It),h(J),h(ve),h(ee),h($),h(fe),h(Lt))}}static{this.\u0275cmp=w({type:n,selectors:[["app-step2-day-info"]],viewQuery:function(i,t){if(i&1&&L(it,5),i&2){let a;A(a=P())&&(t.quillEditors=a)}},decls:12,vars:3,consts:[[1,"main-container"],[3,"ngSubmit","formGroup"],["formArrayName","days",1,"days-container"],["class","day",3,"formGroupName",4,"ngFor","ngForOf"],["type","submit",1,"primary","btn-large"],[2,"margin-left","auto","margin-right","auto"],["id","toast"],[1,"day",3,"formGroupName"],[1,"form-item"],["for","startLocation"],["type","text","id","startLocation","formControlName","startLocation","placeholder","Lugar de inicio"],["for","endLocation"],["type","text","id","endLocation","formControlName","endLocation","placeholder","Lugar de fin"],["formControlName","description",1,"form-item",3,"onContentChanged","modules"],[1,"action-buttons","flex-column"],["type","button",1,"call-to-action","btn-large",3,"click"],["type","button",1,"secondary","btn-large",3,"click"]],template:function(i,t){i&1&&(o(0,"div",0)(1,"h2"),l(2,"Paso 2 - A\xF1adir informaci\xF3n por d\xEDas"),r(),o(3,"p"),l(4),r(),o(5,"form",1),g("ngSubmit",function(){return t.onSubmit()}),o(6,"div",2),f(7,kr,19,4,"div",3),r(),o(8,"button",4),l(9,"GUARDAR Y CONTINUAR"),r(),o(10,"div",5),_(11,"p",6),r()()()),i&2&&(d(4),C("D\xEDas a\xF1adidos: ",t.dayCount,""),d(),m("formGroup",t.dayForm),d(2),m("ngForOf",t.days.controls))},dependencies:[Z,Re,he,pe,Ve,Ne,xt,Dt,Mt,it],styles:["*[_ngcontent-%COMP%], html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{font-family:Jura,sans-serif;font-size:1rem;font-weight:400}h1[_ngcontent-%COMP%]{font-size:1.7rem;font-weight:700;margin-bottom:1.5rem}h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1.5rem}h3[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:1rem}p[_ngcontent-%COMP%]{font-size:1rem;font-weight:400}.text-center[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{font-size:.9rem;border:none;border-radius:10px;padding:.7rem 0;cursor:pointer}button.primary[_ngcontent-%COMP%]{border:1px solid #106A8A;background-color:#106a8a;color:#fff}button.primary[_ngcontent-%COMP%]:hover{background-color:#fff;color:#106a8a}button.secondary[_ngcontent-%COMP%]{border:1px solid #16A8C1;background-color:#fff;color:#16a8c1}button.secondary[_ngcontent-%COMP%]:hover{background-color:#16a8c1;color:#fff}button.call-to-action[_ngcontent-%COMP%]{border:1px solid #F2C01C;background-color:#f2c01c;color:#000}button.call-to-action[_ngcontent-%COMP%]:hover{background-color:#fff;color:#f2c01c;font-weight:700}.btn-large[_ngcontent-%COMP%]{position:relative;justify-content:center;text-align:center;width:300px}.btn-large[_ngcontent-%COMP%]   .icon-right[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%)}.btn-large[_ngcontent-%COMP%]   .icon-left[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%)}.btn-small[_ngcontent-%COMP%]{position:relative;justify-content:center;text-align:center;width:150px}.btn-small[_ngcontent-%COMP%]   .icon-right[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%)}.btn-small[_ngcontent-%COMP%]   .icon-left[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%)}.btn-rounded[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border-radius:50%;width:36px;height:36px}a[_ngcontent-%COMP%]{font-size:1rem;text-decoration:none}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{font-weight:700;text-decoration:underline}.main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:1.5rem auto;width:80vw}.layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.flex-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;gap:1rem 0}.main-content[_ngcontent-%COMP%]{padding-top:80px;flex:1}@media (min-width: 769px){.main-content[_ngcontent-%COMP%]{padding-top:140px}}.error[_ngcontent-%COMP%]{color:red}#toast[_ngcontent-%COMP%]{visibility:hidden;min-width:250px;color:#fff;text-align:center;border-radius:10px;padding:16px;z-index:1;font-size:14px;margin-left:auto;margin-right:auto}#toast.requestOk[_ngcontent-%COMP%]{background-color:#16a8c1}#toast.requestKo[_ngcontent-%COMP%]{background-color:red}#toast.show[_ngcontent-%COMP%]{visibility:visible;-webkit-animation:_ngcontent-%COMP%_fadein .5s,fadeout .5s 2.5s;animation:_ngcontent-%COMP%_fadein .5s,fadeout .5s 2.5s}@-webkit-keyframes _ngcontent-%COMP%_fadein{0%{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@keyframes _ngcontent-%COMP%_fadein{0%{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@-webkit-keyframes _ngcontent-%COMP%_fadeout{0%{bottom:30px;opacity:1}to{bottom:0;opacity:0}}@keyframes _ngcontent-%COMP%_fadeout{0%{bottom:30px;opacity:1}to{bottom:0;opacity:0}}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%}form[_ngcontent-%COMP%]   .days-container[_ngcontent-%COMP%]{padding:1rem 0;width:100%}form[_ngcontent-%COMP%]   .days-container[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{padding:1.5rem 0;border-bottom:1px solid #ccc}form[_ngcontent-%COMP%]   .days-container[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1.2rem;width:100%}form[_ngcontent-%COMP%]   .days-container[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#fff9eb;padding:.7rem;border-radius:8px;border:none;border-bottom:1px solid #F2C01C;margin-top:.5rem}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem}p[_ngcontent-%COMP%]{font-size:1.2rem}@media (min-width: 769px){.action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:1rem}}"]})}}return n})();function Er(n,c){if(n&1){let e=S();o(0,"li")(1,"p")(2,"strong"),l(3),tn(4,"titlecase"),r(),l(5),o(6,"a",26),l(7),r()(),o(8,"button",27),g("click",function(){let t=v(e).$implicit,a=p(2);return b(a.selectExistingItem(t.serviceType,t))}),o(9,"mat-icon",12),l(10,"add"),r()()()}if(n&2){let e=c.$implicit;d(3),I(nn(4,4,e.type)),d(2),C(": ",e.name||e.company," - "),d(),re("href",e.web,ne),d(),C(" ",e.web,"")}}function Or(n,c){if(n&1&&(o(0,"div",23)(1,"h4"),l(2,"Resultados:"),r(),o(3,"ul",24),f(4,Er,11,6,"li",25),r()()),n&2){let e=p();d(4),m("ngForOf",e.searchResults)}}function Ar(n,c){n&1&&(o(0,"p"),l(1,"No se encontraron resultados."),r())}function Pr(n,c){if(n&1){let e=S();o(0,"div",3)(1,"h3"),l(2,"\xBFPrefieres a\xF1adir los servicios m\xE1s tarde?"),r(),o(3,"button",28),g("click",function(){v(e);let t=p();return b(t.redirectTo())}),l(4,"OMITIR Y CONTINUAR"),r()()}}function Tr(n,c){if(n&1){let e=S();o(0,"div",34)(1,"h3"),l(2),r(),o(3,"div",35)(4,"label"),l(5,"Nombre *"),r(),_(6,"input",36),r(),o(7,"div",35)(8,"label"),l(9,"Direcci\xF3n *"),r(),_(10,"input",37),r(),o(11,"div",35)(12,"label"),l(13,"Tipo *"),r(),o(14,"select",38)(15,"option",39),l(16,"Seleccionar"),r(),o(17,"option",40),l(18,"Hostal"),r(),o(19,"option",41),l(20,"Hotel"),r(),o(21,"option",42),l(22,"Apartamento"),r(),o(23,"option",43),l(24,"Casa"),r(),o(25,"option",44),l(26,"Casa rural"),r(),o(27,"option",45),l(28,"Camping"),r(),o(29,"option",46),l(30,"Otro"),r()()(),o(31,"div",35)(32,"label"),l(33,"Precio"),r(),_(34,"input",47),r(),o(35,"div",35)(36,"label"),l(37,"Sitio Web"),r(),_(38,"input",48),r(),o(39,"div",10)(40,"button",49),g("click",function(){v(e);let t=p(3);return b(t.addItem("alojamiento"))}),l(41,"GUARDAR Y A\xD1ADIR OTRO"),r()()()}if(n&2){let e=c.index;m("formGroupName",e),d(2),C("Alojamiento ",e+1,"")}}function Fr(n,c){if(n&1&&(o(0,"div",32),f(1,Tr,42,2,"div",33),r()),n&2){let e=p(2);d(),m("ngForOf",e.getFormArray("alojamiento").controls)}}function Vr(n,c){if(n&1&&(o(0,"form",29),f(1,Fr,2,1,"div",30),o(2,"div",16),_(3,"p",31),r()()),n&2){let e=p();m("formGroup",e.forms.alojamiento),d(),m("ngIf",e.getFormArray("alojamiento"))}}function Rr(n,c){if(n&1){let e=S();o(0,"div",34)(1,"h3"),l(2),r(),o(3,"div",35)(4,"label"),l(5,"Compa\xF1\xEDa *"),r(),_(6,"input",51),r(),o(7,"div",35)(8,"label"),l(9,"Tipo *"),r(),o(10,"select",38)(11,"option",39),l(12,"Seleccionar"),r(),o(13,"option",52),l(14,"Avi\xF3n"),r(),o(15,"option",53),l(16,"Tren"),r(),o(17,"option",54),l(18,"Autob\xFAs"),r(),o(19,"option",55),l(20,"Coche"),r(),o(21,"option",56),l(22,"Bicicleta"),r(),o(23,"option",57),l(24,"Moto"),r(),o(25,"option",58),l(26,"Barco"),r(),o(27,"option",59),l(28,"Helic\xF3ptero"),r()()(),o(29,"div",35)(30,"label"),l(31,"Direcci\xF3n oficina*"),r(),_(32,"input",37),r(),o(33,"div",35)(34,"label"),l(35,"Sitio Web"),r(),_(36,"input",60),r(),o(37,"div",10)(38,"button",49),g("click",function(){v(e);let t=p(2);return b(t.addItem("transporte"))}),l(39,"GUARDAR Y A\xD1ADIR OTRO"),r()()()}if(n&2){let e=c.index;m("formGroupName",e),d(2),C("Transporte ",e+1,"")}}function Nr(n,c){if(n&1&&(o(0,"form",29)(1,"div",50),f(2,Rr,40,2,"div",33),r()()),n&2){let e=p();m("formGroup",e.forms.transporte),d(2),m("ngForOf",e.getFormArray("transporte").controls)}}function Lr(n,c){if(n&1){let e=S();o(0,"div",34)(1,"h3"),l(2),r(),o(3,"div",35)(4,"label"),l(5,"Nombre *"),r(),_(6,"input",62),r(),o(7,"div",35)(8,"label"),l(9,"Direcci\xF3n *"),r(),_(10,"input",37),r(),o(11,"div",35)(12,"label"),l(13,"Tipo *"),r(),_(14,"input",63),r(),o(15,"div",35)(16,"label"),l(17,"Precio (\u20AC/persona)"),r(),_(18,"input",47),r(),o(19,"div",35)(20,"label"),l(21,"Sitio Web"),r(),_(22,"input",64),r(),o(23,"div",10)(24,"button",49),g("click",function(){v(e);let t=p(2);return b(t.addItem("restaurante"))}),l(25,"GUARDAR Y A\xD1ADIR OTRO"),r()()()}if(n&2){let e=c.index;m("formGroupName",e),d(2),C("Restaurante ",e+1,"")}}function jr(n,c){if(n&1&&(o(0,"form",29)(1,"div",61),f(2,Lr,26,2,"div",33),r()()),n&2){let e=p();m("formGroup",e.forms.restaurante),d(2),m("ngForOf",e.getFormArray("restaurante").controls)}}function Br(n,c){if(n&1){let e=S();o(0,"button",28),g("click",function(){v(e);let t=p();return b(t.redirectTo())}),l(1,"GUARDAR Y CONTINUAR"),r()}}function zr(n,c){if(n&1){let e=S();o(0,"div",65),g("click",function(){v(e);let t=p();return b(t.toggleSidebar())}),r()}}function Yr(n,c){if(n&1){let e=S();o(0,"button",66),g("click",function(){v(e);let t=p();return b(t.toggleSidebar())}),l(1," Servicios seleccionados "),r()}}function qr(n,c){if(n&1){let e=S();o(0,"button",67),g("click",function(){v(e);let t=p();return b(t.toggleSidebar())}),o(1,"mat-icon",12),l(2,"close"),r()()}}function Hr(n,c){if(n&1){let e=S();o(0,"div",68)(1,"div",69),l(2),o(3,"a",26),l(4),r()(),o(5,"div",70)(6,"button",27),g("click",function(){let t=v(e).$implicit,a=p();return b(a.removeSelected("alojamiento",t))}),o(7,"mat-icon",12),l(8,"delete"),r()(),o(9,"button",27),g("click",function(){let t=v(e).$implicit,a=p();return b(a.editSelected("alojamiento",t))}),o(10,"mat-icon",12),l(11,"edit"),r()()()()}if(n&2){let e=c.$implicit;d(2),C(" ",e.name," - "),d(),re("href",e.web,ne),d(),I(e.web)}}function $r(n,c){if(n&1){let e=S();o(0,"div",68)(1,"div",69),l(2),o(3,"a",26),l(4),r()(),o(5,"div",70)(6,"button",27),g("click",function(){let t=v(e).$implicit,a=p();return b(a.removeSelected("restaurante",t))}),o(7,"mat-icon",12),l(8,"delete"),r()(),o(9,"button",27),g("click",function(){let t=v(e).$implicit,a=p();return b(a.editSelected("restaurante",t))}),o(10,"mat-icon",12),l(11,"edit"),r()()()()}if(n&2){let e=c.$implicit;d(2),C(" ",e.name," - "),d(),re("href",e.web,ne),d(),I(e.web)}}function Ur(n,c){if(n&1){let e=S();o(0,"div",68)(1,"div",69),l(2),o(3,"a",26),l(4),r()(),o(5,"div",70)(6,"button",27),g("click",function(){let t=v(e).$implicit,a=p();return b(a.removeSelected("transporte",t))}),o(7,"mat-icon",12),l(8,"delete"),r()(),o(9,"button",27),g("click",function(){let t=v(e).$implicit,a=p();return b(a.editSelected("transporte",t))}),o(10,"mat-icon",12),l(11,"edit"),r()()()()}if(n&2){let e=c.$implicit;d(2),C(" ",e.company," - "),d(),re("href",e.web,ne),d(),I(e.web)}}var Li=(()=>{class n{constructor(e,i,t,a,s,u,y,x){this.formBuilder=e,this.accommodationService=i,this.transportService=t,this.restaurantService=a,this.sharedService=s,this.itineraryCreationService=u,this.router=y,this.route=x,this.sidebarOpen=!1,this.isMobile=!1,this.isEditMode=!1,this.selectedItems=!1,this.showAddOptions=!1,this.searchTerm="",this.searchResults=[],this.showFormType=null,this.editingItem=null,this.forms={alojamiento:this.formBuilder.group({alojamientos:this.formBuilder.array([])}),transporte:this.formBuilder.group({transportes:this.formBuilder.array([])}),restaurante:this.formBuilder.group({restaurantes:this.formBuilder.array([])})},this.selectedExtras={alojamiento:[],restaurante:[],transporte:[]},this.filtered={alojamiento:[],transporte:[],restaurante:[]},this.searchControl=new gn("")}ngOnInit(){this.checkMobile(),window.addEventListener("resize",this.checkMobile.bind(this)),this.itineraryId=this.route.snapshot.paramMap.get("id")??void 0,this.itineraryId&&(this.isEditMode=!0),this.loadFromLocalStorage(),this.searchControl.valueChanges.pipe(He(300),$i(),Ut(e=>e!==null),nt(e=>e.trim().toLowerCase()),Ki(e=>(this.searchTerm=e,e?qe({accommodations:this.accommodationService.getAccommodationByName(e),transports:this.transportService.getTransportByCompany(e),restaurants:this.restaurantService.getRestaurantByName(e)}):Ie({accommodations:[],transports:[],restaurants:[]})))).subscribe({next:({accommodations:e,transports:i,restaurants:t})=>{this.searchResults=[...e,...i,...t]},error:e=>{console.error("Error al buscar alojamiento:",e),this.searchResults=[]}})}checkMobile(){this.isMobile=window.innerWidth<1025,this.sidebarOpen=!this.isMobile}toggleSidebar(){this.sidebarOpen=!this.sidebarOpen}search(){let e=this.searchTerm.toLowerCase().trim();if(!e){this.searchResults=[];return}qe({accommodations:this.accommodationService.getAccommodationByName(e),transports:this.transportService.getTransportByCompany(e),restaurants:this.restaurantService.getRestaurantByName(e)}).subscribe({next:({accommodations:i,transports:t,restaurants:a})=>{this.searchResults=[...i,...t,...a]},error:i=>{console.error("Error en alguna de las b\xFAsquedas:",i),this.searchResults=[]}})}selectExistingItem(e,i){this.selectedExtras[e]||(this.selectedExtras[e]=[]),this.selectedItems=!0,this.selectedExtras[e].some(a=>{if(e==="alojamiento")return a.accommodationId===i.accommodationId;if(e==="restaurante")return a.restaurantId===i.restaurantId;if(e==="transporte")return a.transportId===i.transportId})?console.log("Este elemento ya se ha a\xF1adido a la lista"):(this.selectedExtras[e].push(i),this.saveToLocalStorage(),console.log("A\xF1adido:",this.selectedExtras))}saveToLocalStorage(){this.itineraryCreationService.setStep3Details({accommodations:this.selectedExtras.alojamiento,restaurants:this.selectedExtras.restaurante,transports:this.selectedExtras.transporte})}loadFromLocalStorage(){let e=this.itineraryCreationService.getStep3Details();e&&(this.selectedExtras={alojamiento:e.accommodations||[],restaurante:e.restaurants||[],transporte:e.transports||[]},e.accommodations?.length===0&&e.restaurants?.length===0&&e.transports?.length===0?this.selectedItems=!1:this.selectedItems=!0)}removeSelected(e,i){this.selectedExtras[e]=this.selectedExtras[e].filter(t=>t!==i),this.saveToLocalStorage()}editSelected(e,i){this.selectedExtras[e]=this.selectedExtras[e].filter(s=>s!==i),this.saveToLocalStorage(),this.showFormType=e;let t=this.getFormArray(e),a;e==="alojamiento"?a=this.formBuilder.group({name:[i.name,M.required],address:[i.address,M.required],type:[i.type||""],price:[i.price||"",M.min(0)],web:[i.web||""]}):e==="transporte"?a=this.formBuilder.group({company:[i.company,M.required],type:[i.type||"",M.required],address:[i.address||"",M.required],web:[i.web||""]}):a=this.formBuilder.group({name:[i.name,M.required],address:[i.address,M.required],type:[i.type||"",M.required],price:[i.price||"",M.min(0)],web:[i.web||""]}),t.push(a),this.editingItem={type:e,id:i.accommodationId||i.transportId||i.restaurantId}}getFormArray(e){let i={alojamiento:"alojamientos",transporte:"transportes",restaurante:"restaurantes"}[e];return this.forms[e].get(i)}showForm(e){this.showFormType=e,this.getFormArray(e).length===0&&this.createEmptyItem(e)}createEmptyItem(e){let i={alojamiento:()=>this.formBuilder.group({name:["",M.required],address:["",M.required],type:[""],price:["",M.min(0)],web:[""]}),transporte:()=>this.formBuilder.group({company:["",M.required],type:["",M.required],address:["",M.required],web:[""]}),restaurante:()=>this.formBuilder.group({name:["",M.required],address:["",M.required],type:["",M.required],price:["",M.min(0)],web:[""]})};this.getFormArray(e).push(i[e]())}addItem(e){return E(this,null,function*(){let i=this.getFormArray(e),t=i.length-1,a=t>=0?i.at(t):null,s=!1,u;if(!(a&&a.invalid))if(a)try{let y=a.value,x;this.editingItem&&this.editingItem.type===e?(x=yield this.updateItemInBackend(e,this.editingItem.id,y),this.editingItem=null):x=yield this.saveItemToBackend(e,y),this.selectedExtras[e].push(x),this.saveToLocalStorage(),a.reset(),s=!0,yield this.sharedService.managementToast("toast",s)}catch{yield this.sharedService.managementToast("toast",!1,u?.message||"Hubo un error al guardar el \xEDtem. Int\xE9ntalo de nuevo."),this.sharedService.errorLog(u)}else i.push(this.createEmptyItem(e))})}updateItemInBackend(e,i,t){return new Promise((a,s)=>{e==="alojamiento"?this.accommodationService.updateAccommodation(i,t).subscribe({next:a,error:s}):e==="transporte"?this.transportService.updateTransport(i,t).subscribe({next:a,error:s}):e==="restaurante"?this.restaurantService.updateRestaurant(i,t).subscribe({next:a,error:s}):s(new Error(`Tipo de item no soportado: ${e}`))})}saveItemToBackend(e,i){return new Promise((t,a)=>{e==="alojamiento"?this.accommodationService.createAccommodation(i).subscribe({next:s=>{t(s)},error:s=>{a(s)}}):e==="transporte"?this.transportService.createTransport(i).subscribe({next:s=>{t(s)},error:s=>{a(s)}}):e==="restaurante"?this.restaurantService.createRestaurant(i).subscribe({next:s=>{t(s)},error:s=>{a(s)}}):a(new Error(`Tipo de item no soportado: ${e}`))})}redirectTo(){this.isEditMode?this.router.navigateByUrl(`/itinerarios/editar/resumen/${this.itineraryId}`):this.router.navigateByUrl("/itinerarios/crear-itinerario/resumen")}static{this.\u0275fac=function(i){return new(i||n)(h(It),h(jt),h(Bt),h(zt),h(fe),h(ve),h(ee),h($))}}static{this.\u0275cmp=w({type:n,selectors:[["app-step3-extras"]],decls:58,vars:18,consts:[[1,"display-step3"],[1,"main-container"],[1,"service-selection","flex-column"],[1,"flex-column"],[1,"search-container"],["type","text","placeholder","Buscar servicios disponibles",3,"keydown.enter","formControl"],[3,"click"],["class","search-results",4,"ngIf"],[4,"ngIf"],[1,"flex-column","border-bottom"],[1,"action-buttons"],[1,"call-to-action","btn-large",3,"click"],[1,"icon-right"],["class","flex-column",4,"ngIf"],[3,"formGroup",4,"ngIf"],["type","button","class","primary btn-large",3,"click",4,"ngIf"],[2,"margin-left","auto","margin-right","auto"],["id","toast"],["class","sidebar-overlay",3,"click",4,"ngIf"],["class","toggle-sidebar-btn",3,"click",4,"ngIf"],[1,"sidebar","flex-colum"],["class","close-btn",3,"click",4,"ngIf"],["class","container-items-list",4,"ngFor","ngForOf"],[1,"search-results"],[1,"container-results"],[4,"ngFor","ngForOf"],["target","_blank",3,"href"],[1,"secondary","btn-rounded",3,"click"],["type","button",1,"primary","btn-large",3,"click"],[3,"formGroup"],["formArrayName","alojamientos","class","extra-info-container",4,"ngIf"],["id","AddFeedback"],["formArrayName","alojamientos",1,"extra-info-container"],["class","service",3,"formGroupName",4,"ngFor","ngForOf"],[1,"service",3,"formGroupName"],[1,"form-item"],["type","text","formControlName","name","placeholder","Nombre del alojamiento"],["type","text","formControlName","address","placeholder","Direcci\xF3n"],["formControlName","type"],["value",""],["value","Hostal"],["value","Hotel"],["value","Apartamento"],["value","Casa"],["value","Casa Rural"],["value","Camping"],["value","Otro"],["type","number","formControlName","price","min","0"],["type","text","formControlName","web","placeholder","www.alojamientos.com"],["type","button",1,"call-to-action","btn-large",3,"click"],["formArrayName","transportes",1,"extra-info-container"],["type","text","formControlName","company","placeholder","Nombre de la compa\xF1\xEDa"],["value","Avi\xF3n"],["value","Tren"],["value","Bus"],["value","Coche"],["value","Bicicleta"],["value","Moto"],["value","Barco"],["value","Helic\xF3ptero"],["type","text","formControlName","web","placeholder","www.transportes.com"],["formArrayName","restaurantes",1,"extra-info-container"],["type","text","formControlName","name","placeholder","Nombre del restaurante"],["type","text","formControlName","type","placeholder","Tipo de comida"],["type","text","formControlName","web","placeholder","www.restaurantes.com"],[1,"sidebar-overlay",3,"click"],[1,"toggle-sidebar-btn",3,"click"],[1,"close-btn",3,"click"],[1,"container-items-list"],[1,"item-list"],[1,"buttons-list"]],template:function(i,t){i&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),l(3,"Paso 3 - A\xF1adir servicios a tu itinerario"),r(),o(4,"div",2)(5,"div",3)(6,"h3"),l(7,"\xBFYa existe el servicio que buscas?"),r(),o(8,"p"),l(9,"Busca un alojamiento, restaurante o transporte antes de crear uno nuevo:"),r(),o(10,"div",4)(11,"input",5),g("keydown.enter",function(){return t.search()}),r(),o(12,"button",6),g("click",function(){return t.search()}),o(13,"mat-icon"),l(14,"search"),r()()(),f(15,Or,5,1,"div",7)(16,Ar,2,0,"p",8),r(),o(17,"div",9)(18,"h3"),l(19,"No lo has encontrado, \xBFquieres a\xF1adirlo?"),r(),o(20,"div",10)(21,"button",11),g("click",function(){return t.showForm("alojamiento")}),l(22," A\xD1ADIR ALOJAMIENTOS "),o(23,"mat-icon",12),l(24,"add_circle_outline"),r()(),o(25,"button",11),g("click",function(){return t.showForm("transporte")}),l(26," A\xD1ADIR TRANSPORTES "),o(27,"mat-icon",12),l(28,"add_circle_outline"),r()(),o(29,"button",11),g("click",function(){return t.showForm("restaurante")}),l(30," A\xD1ADIR RESTAURANTES "),o(31,"mat-icon",12),l(32,"add_circle_outline"),r()()()(),f(33,Pr,5,0,"div",13),r(),f(34,Vr,4,2,"form",14)(35,Nr,3,2,"form",14)(36,jr,3,2,"form",14)(37,Br,2,0,"button",15),o(38,"div",16),_(39,"p",17),r()(),f(40,zr,1,0,"div",18)(41,Yr,2,0,"button",19),o(42,"div",20),f(43,qr,3,0,"button",21),o(44,"h3"),l(45,"Servicios seleccionados"),r(),o(46,"div")(47,"h4"),l(48,"Alojamientos"),r(),f(49,Hr,12,3,"div",22),r(),o(50,"div")(51,"h4"),l(52,"Restaurantes"),r(),f(53,$r,12,3,"div",22),r(),o(54,"div")(55,"h4"),l(56,"Transportes"),r(),f(57,Ur,12,3,"div",22),r()()()),i&2&&(d(11),m("formControl",t.searchControl),d(4),m("ngIf",t.searchResults.length>0),d(),m("ngIf",t.searchTerm&&t.searchResults.length===0),d(17),m("ngIf",t.showFormType===null&&t.selectedItems===!1),d(),m("ngIf",t.showFormType==="alojamiento"),d(),m("ngIf",t.showFormType==="transporte"),d(),m("ngIf",t.showFormType==="restaurante"),d(),m("ngIf",t.showFormType!==null||t.selectedItems===!0),d(3),m("ngIf",t.isMobile&&t.sidebarOpen),d(),m("ngIf",t.isMobile),d(),H("open",t.sidebarOpen)("mobile",t.isMobile),d(),m("ngIf",t.isMobile),d(6),m("ngForOf",t.selectedExtras.alojamiento),d(4),m("ngForOf",t.selectedExtras.restaurante),d(4),m("ngForOf",t.selectedExtras.transporte))},dependencies:[Z,W,Re,wt,St,he,yt,_n,pe,Ve,bn,Ct,Ne,xt,Dt,Mt,me,rn],styles:["*[_ngcontent-%COMP%], html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{font-family:Jura,sans-serif;font-size:1rem;font-weight:400}h1[_ngcontent-%COMP%]{font-size:1.7rem;font-weight:700;margin-bottom:1.5rem}h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1.5rem}h3[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:1rem}p[_ngcontent-%COMP%]{font-size:1rem;font-weight:400}.text-center[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{font-size:.9rem;border:none;border-radius:10px;padding:.7rem 0;cursor:pointer}button.primary[_ngcontent-%COMP%]{border:1px solid #106A8A;background-color:#106a8a;color:#fff}button.primary[_ngcontent-%COMP%]:hover{background-color:#fff;color:#106a8a}button.secondary[_ngcontent-%COMP%]{border:1px solid #16A8C1;background-color:#fff;color:#16a8c1}button.secondary[_ngcontent-%COMP%]:hover{background-color:#16a8c1;color:#fff}button.call-to-action[_ngcontent-%COMP%]{border:1px solid #F2C01C;background-color:#f2c01c;color:#000}button.call-to-action[_ngcontent-%COMP%]:hover{background-color:#fff;color:#f2c01c;font-weight:700}.btn-large[_ngcontent-%COMP%]{position:relative;justify-content:center;text-align:center;width:300px}.btn-large[_ngcontent-%COMP%]   .icon-right[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%)}.btn-large[_ngcontent-%COMP%]   .icon-left[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%)}.btn-small[_ngcontent-%COMP%]{position:relative;justify-content:center;text-align:center;width:150px}.btn-small[_ngcontent-%COMP%]   .icon-right[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%)}.btn-small[_ngcontent-%COMP%]   .icon-left[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%)}.btn-rounded[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border-radius:50%;width:36px;height:36px}a[_ngcontent-%COMP%]{font-size:1rem;text-decoration:none}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{font-weight:700;text-decoration:underline}.main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:1.5rem auto;width:80vw}.layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.flex-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;gap:1rem 0}.main-content[_ngcontent-%COMP%]{padding-top:80px;flex:1}@media (min-width: 769px){.main-content[_ngcontent-%COMP%]{padding-top:140px}}.error[_ngcontent-%COMP%]{color:red}#toast[_ngcontent-%COMP%]{visibility:hidden;min-width:250px;color:#fff;text-align:center;border-radius:10px;padding:16px;z-index:1;font-size:14px;margin-left:auto;margin-right:auto}#toast.requestOk[_ngcontent-%COMP%]{background-color:#16a8c1}#toast.requestKo[_ngcontent-%COMP%]{background-color:red}#toast.show[_ngcontent-%COMP%]{visibility:visible;-webkit-animation:_ngcontent-%COMP%_fadein .5s,fadeout .5s 2.5s;animation:_ngcontent-%COMP%_fadein .5s,fadeout .5s 2.5s}@-webkit-keyframes _ngcontent-%COMP%_fadein{0%{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@keyframes _ngcontent-%COMP%_fadein{0%{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@-webkit-keyframes _ngcontent-%COMP%_fadeout{0%{bottom:30px;opacity:1}to{bottom:0;opacity:0}}@keyframes _ngcontent-%COMP%_fadeout{0%{bottom:30px;opacity:1}to{bottom:0;opacity:0}}.display-step3[_ngcontent-%COMP%]{display:flex}.search-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:700px;margin-bottom:1.5rem}.search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1.2rem;font-size:1rem;border-radius:25px;border:1px solid #ccc}.search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%);background:none;border:none;font-size:18px;cursor:pointer}.search-results[_ngcontent-%COMP%]{min-width:80%}.search-results[_ngcontent-%COMP%]   .container-results[_ngcontent-%COMP%]{width:100%}.search-results[_ngcontent-%COMP%]   .container-results[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;margin-bottom:1rem}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;padding-bottom:1rem;margin:1rem 0}.action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;flex-wrap:wrap;gap:1rem}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:95%}form[_ngcontent-%COMP%]   .extra-info-container[_ngcontent-%COMP%]{padding:1rem 0;width:100%}form[_ngcontent-%COMP%]   .extra-info-container[_ngcontent-%COMP%]   .service[_ngcontent-%COMP%]{padding:1.5rem 0;border-bottom:1px solid #ccc}form[_ngcontent-%COMP%]   .extra-info-container[_ngcontent-%COMP%]   .service[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1.2rem;width:100%}form[_ngcontent-%COMP%]   .extra-info-container[_ngcontent-%COMP%]   .service[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .extra-info-container[_ngcontent-%COMP%]   .service[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#fff9eb;padding:.7rem;border-radius:8px;border:none;border-bottom:1px solid #F2C01C;margin-top:.5rem}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem}p[_ngcontent-%COMP%]{font-size:1.2rem}.container-items-list[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.container-items-list[_ngcontent-%COMP%]   .buttons-list[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin:.2rem}@media (min-width: 1025px){.main-container[_ngcontent-%COMP%]{width:70%}}.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:999}.sidebar[_ngcontent-%COMP%]{background:#f5f5f5;padding:1rem;transition:transform .3s ease-in-out;width:100%}@media (min-width: 1025px){.sidebar[_ngcontent-%COMP%]{margin:0 1rem;width:25%}}.sidebar.mobile[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;width:100%;max-height:80vh;transform:translateY(100%);z-index:1000;overflow-y:auto;border-top-left-radius:12px;border-top-right-radius:12px;box-shadow:0 -2px 10px #0003}.sidebar.mobile.open[_ngcontent-%COMP%]{transform:translateY(0)}.sidebar[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:transparent;border:none;font-size:1.5rem;float:right;cursor:pointer}.toggle-sidebar-btn[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;width:100%;z-index:998;padding:1rem;background:#16a8c1;color:#fff;border:none;font-weight:700;text-align:center}@media (min-width: 1025px){.toggle-sidebar-btn[_ngcontent-%COMP%]{display:none}}@media (min-width: 769px){.action-buttons[_ngcontent-%COMP%]{flex-direction:row}}"]})}}return n})();var Kr=()=>["/puntos-interes"];function Gr(n,c){if(n&1&&(o(0,"mat-chip"),l(1),r()),n&2){let e=p(2);d(),C("Destino: ",e.filterData.destination,"")}}function Wr(n,c){if(n&1&&(o(0,"mat-chip"),l(1),r()),n&2){let e=p(2);d(),C("Min rating: ",e.filterData.minRating,"")}}function Qr(n,c){if(n&1&&(o(0,"mat-chip"),l(1),r()),n&2){let e=p(2);d(),C("Max rating: ",e.filterData.maxRating,"")}}function Zr(n,c){if(n&1&&(o(0,"mat-chip"),l(1),r()),n&2){let e=p(2);d(),C("Min d\xEDas: ",e.filterData.minDuration,"")}}function Xr(n,c){if(n&1&&(o(0,"mat-chip"),l(1),r()),n&2){let e=p(2);d(),C("Max d\xEDas: ",e.filterData.maxDuration,"")}}function Jr(n,c){if(n&1&&(o(0,"mat-chip"),l(1),r()),n&2){let e=c.$implicit;d(),I(e)}}function eo(n,c){if(n&1&&(o(0,"div")(1,"p"),l(2,"Filtros aplicados:"),r(),o(3,"mat-chip-set",8),f(4,Gr,2,1,"mat-chip",4)(5,Wr,2,1,"mat-chip",4)(6,Qr,2,1,"mat-chip",4)(7,Zr,2,1,"mat-chip",4)(8,Xr,2,1,"mat-chip",4)(9,Jr,2,1,"mat-chip",9),r()()),n&2){let e=p();d(4),m("ngIf",e.filterData.destination),d(),m("ngIf",e.filterData.minRating),d(),m("ngIf",e.filterData.maxRating),d(),m("ngIf",e.filterData.minDuration),d(),m("ngIf",e.filterData.maxDuration),d(),m("ngForOf",e.filterData.selectedCategories)}}function to(n,c){n&1&&(o(0,"div")(1,"p"),l(2,"No se encontraron itinerarios."),r()())}function io(n,c){if(n&1&&_(0,"app-full-card",12),n&2){let e=c.$implicit,i=p(2);m("card",i.getCardData(e))("showEditDeleteButtons",i.showEditDeleteButtons)}}function no(n,c){if(n&1&&(o(0,"div",10),f(1,io,1,2,"app-full-card",11),r()),n&2){let e=p();d(),m("ngForOf",e.filteredItineraries)}}var na=(()=>{class n{constructor(e,i,t){this.route=e,this.itineraryService=i,this.dialog=t,this.itineraries=[],this.filteredItineraries=[],this.filterData={},this.searchTerm="",this.showEditDeleteButtons=!1,this.currentSort="destination-a-z",this.itinerariesSortOptions=[{value:"category",label:"Categor\xEDa"},{value:"destination-a-z",label:"Destino (A-Z)"},{value:"destination-z-a",label:"Destino (Z-A)"},{value:"rating-0-5",label:"Valoraci\xF3n (0-5)"},{value:"rating-5-0",label:"Valoraci\xF3n (5-0)"},{value:"duration-asc",label:"Duraci\xF3n (ascendente)"},{value:"duration-des",label:"Duraci\xF3n (descendente)"}]}ngOnInit(){Yi([this.itineraryService.getItineraries(),this.route.queryParams]).subscribe(([e,i])=>{this.itineraries=e,this.searchTerm=i.destino||"",this.filterData.destination=this.searchTerm,this.applyFilters()})}filterItineraries(){let e=this.searchTerm.toLowerCase();e?this.filteredItineraries=this.itineraries.filter(i=>i.destination.toLowerCase().includes(e)):this.filteredItineraries=[...this.itineraries],this.applySort()}getCardData(e){return{link:`/itinerarios/resultados/${e.itineraryId}`,imageUrl:e.coverImage?`http://localhost:3000/uploads/${e.coverImage}`:"assets/predeterminada-img.webp",title:`Itinerario de ${e.duration} d\xEDas por ${e.destination}`,date:e.publicationDate,author:e.userAlias||"Autor desconocido",categories:e.categories?.map(i=>i.title)||"Sin categor\xEDa",rating:e.rating}}get resultsCount(){return this.filteredItineraries.length}openSortDialog(){this.dialog.open(En,{width:"350px",data:{currentSort:this.currentSort,options:this.itinerariesSortOptions},disableClose:!1}).afterClosed().subscribe(i=>{i&&(this.currentSort=i,this.applySort())})}applySort(){switch(this.currentSort){case"category":this.filteredItineraries.sort((e,i)=>(e.categories[0]?.title||"").localeCompare(i.categories[0]?.title||""));break;case"destination-a-z":this.filteredItineraries.sort((e,i)=>e.destination.localeCompare(i.destination));break;case"destination-z-a":this.filteredItineraries.sort((e,i)=>i.destination.localeCompare(e.destination));break;case"rating-5-0":this.filteredItineraries.sort((e,i)=>i.rating-e.rating);break;case"rating-0-5":this.filteredItineraries.sort((e,i)=>e.rating-i.rating);break;case"duration-asc":this.filteredItineraries.sort((e,i)=>e.duration-i.duration);break;case"duration-des":this.filteredItineraries.sort((e,i)=>i.duration-e.duration);break}}openFilterDialog(){this.dialog.open(In,{width:"500px",data:T({},this.filterData)}).afterClosed().subscribe(i=>{i?(this.filterData=i,this.searchTerm=this.filterData.destination||"",this.applyFilters()):(this.filterData={},this.searchTerm="",this.filteredItineraries=[...this.itineraries],this.applySort())})}applyFilters(){this.filteredItineraries=this.itineraries.filter(e=>{let i=!this.filterData.destination||e.destination.toLowerCase().includes(this.filterData.destination.toLowerCase()),t=(!this.filterData.minRating||e.rating>=this.filterData.minRating)&&(!this.filterData.maxRating||e.rating<=this.filterData.maxRating),a=(!this.filterData.minDuration||e.duration>=this.filterData.minDuration)&&(!this.filterData.maxDuration||e.duration<=this.filterData.maxDuration),s=!this.filterData.selectedCategories?.length||e.categories?.some(u=>this.filterData?.selectedCategories?.includes(u.title));return i&&t&&a&&s}),this.applySort()}get resultsTitle(){let e=this.searchTerm.trim().length>0,i=Object.keys(this.filterData).some(t=>{let a=this.filterData[t];return Array.isArray(a)?a.length>0:a!=null&&a!==""});return this.resultsCount===0?"No se han encontrado itinerarios con esos criterios":e?`Resultados para "${this.searchTerm}"`:i?"Itinerarios filtrados":"Todos los itinerarios"}static{this.\u0275fac=function(i){return new(i||n)(h($),h(de),h(Sn))}}static{this.\u0275cmp=w({type:n,selectors:[["app-results"]],decls:27,vars:7,consts:[[1,"main-container","text-center"],[1,"action-buttons"],[1,"btn-filtro",3,"click"],[1,"btn-ordenar",3,"click"],[4,"ngIf"],["class","cards-container",4,"ngIf"],[1,"section-container"],[3,"routerLink"],[1,"chips-container"],[4,"ngFor","ngForOf"],[1,"cards-container"],[3,"card","showEditDeleteButtons",4,"ngFor","ngForOf"],[3,"card","showEditDeleteButtons"]],template:function(i,t){i&1&&(o(0,"div",0)(1,"h1"),l(2),r(),o(3,"div",1)(4,"button",2),g("click",function(){return t.openFilterDialog()}),o(5,"mat-icon"),l(6,"tune"),r(),l(7," Filtrar "),r(),o(8,"button",3),g("click",function(){return t.openSortDialog()}),o(9,"mat-icon"),l(10,"sort"),r(),l(11," Ordenar "),r()(),f(12,eo,10,6,"div",4),o(13,"p"),l(14),r(),f(15,to,3,0,"div",4)(16,no,2,1,"div",5),o(17,"section",6)(18,"h2"),l(19,"\xBFNo encuentras lo que buscas?"),r(),o(20,"p"),l(21,"Si no encuentras el itinerario que buscas, siempre puedes revisar los "),o(22,"a",7),l(23,"puntos de inter\xE9s"),r(),l(24," disponibles"),r(),o(25,"mat-icon"),l(26,"location_on"),r()()()),i&2&&(d(2),I(t.resultsTitle),d(10),m("ngIf",t.filterData.destination||(t.filterData.selectedCategories==null?null:t.filterData.selectedCategories.length)||t.filterData.minRating||t.filterData.maxRating||t.filterData.minDuration||t.filterData.maxDuration),d(2),C("",t.resultsCount," Resultados"),d(),m("ngIf",t.filteredItineraries.length===0),d(),m("ngIf",t.filteredItineraries.length>0),d(6),m("routerLink",Me(6,Kr)))},dependencies:[Z,W,Fe,kn,On,An,me],styles:["*[_ngcontent-%COMP%], html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{font-family:Jura,sans-serif;font-size:1rem;font-weight:400}h1[_ngcontent-%COMP%]{font-size:1.7rem;font-weight:700;margin-bottom:1.5rem}h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1.5rem}h3[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:1rem}p[_ngcontent-%COMP%]{font-size:1rem;font-weight:400}.text-center[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{font-size:.9rem;border:none;border-radius:10px;padding:.7rem 0;cursor:pointer}button.primary[_ngcontent-%COMP%]{border:1px solid #106A8A;background-color:#106a8a;color:#fff}button.primary[_ngcontent-%COMP%]:hover{background-color:#fff;color:#106a8a}button.secondary[_ngcontent-%COMP%]{border:1px solid #16A8C1;background-color:#fff;color:#16a8c1}button.secondary[_ngcontent-%COMP%]:hover{background-color:#16a8c1;color:#fff}button.call-to-action[_ngcontent-%COMP%]{border:1px solid #F2C01C;background-color:#f2c01c;color:#000}button.call-to-action[_ngcontent-%COMP%]:hover{background-color:#fff;color:#f2c01c;font-weight:700}.btn-large[_ngcontent-%COMP%]{position:relative;justify-content:center;text-align:center;width:300px}.btn-large[_ngcontent-%COMP%]   .icon-right[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%)}.btn-large[_ngcontent-%COMP%]   .icon-left[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%)}.btn-small[_ngcontent-%COMP%]{position:relative;justify-content:center;text-align:center;width:150px}.btn-small[_ngcontent-%COMP%]   .icon-right[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%)}.btn-small[_ngcontent-%COMP%]   .icon-left[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%)}.btn-rounded[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border-radius:50%;width:36px;height:36px}a[_ngcontent-%COMP%]{font-size:1rem;text-decoration:none}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{font-weight:700;text-decoration:underline}.main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:1.5rem auto;width:80vw}.layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.flex-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;gap:1rem 0}.main-content[_ngcontent-%COMP%]{padding-top:80px;flex:1}@media (min-width: 769px){.main-content[_ngcontent-%COMP%]{padding-top:140px}}.error[_ngcontent-%COMP%]{color:red}#toast[_ngcontent-%COMP%]{visibility:hidden;min-width:250px;color:#fff;text-align:center;border-radius:10px;padding:16px;z-index:1;font-size:14px;margin-left:auto;margin-right:auto}#toast.requestOk[_ngcontent-%COMP%]{background-color:#16a8c1}#toast.requestKo[_ngcontent-%COMP%]{background-color:red}#toast.show[_ngcontent-%COMP%]{visibility:visible;-webkit-animation:_ngcontent-%COMP%_fadein .5s,fadeout .5s 2.5s;animation:_ngcontent-%COMP%_fadein .5s,fadeout .5s 2.5s}@-webkit-keyframes _ngcontent-%COMP%_fadein{0%{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@keyframes _ngcontent-%COMP%_fadein{0%{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@-webkit-keyframes _ngcontent-%COMP%_fadeout{0%{bottom:30px;opacity:1}to{bottom:0;opacity:0}}@keyframes _ngcontent-%COMP%_fadeout{0%{bottom:30px;opacity:1}to{bottom:0;opacity:0}}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:2rem 0}.action-buttons[_ngcontent-%COMP%]   .btn-filtro[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   .btn-ordenar[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;background-color:#fff;border:1px solid black;border-radius:0;width:110px;padding:.75rem;text-align:center}.section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;gap:1.5rem;padding:2rem 0}.section-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:5rem;height:5rem;font-size:5rem}.section-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .section-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.3rem}.cards-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:0rem 3rem;width:100%}.chips-container[_ngcontent-%COMP%], .mdc-evolution-chip-set__chips[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:1rem auto}"]})}}return n})();var ao=n=>["paso-1",n],ro=n=>["paso-2",n],oo=n=>["paso-3",n],so=n=>["resumen",n],aa=(()=>{class n{constructor(e){this.route=e}ngOnInit(){this.route.firstChild?.params.subscribe(e=>{this.itineraryId=e.id})}static{this.\u0275fac=function(i){return new(i||n)(h($))}}static{this.\u0275cmp=w({type:n,selectors:[["app-edit-itinerary"]],decls:14,vars:12,consts:[[1,"edit-itinerary-container"],[1,"steps"],["routerLinkActive","activo",3,"routerLink"],[1,"steps-container"]],template:function(i,t){i&1&&(o(0,"div",0)(1,"h1"),l(2,"Edita tu itinerario"),r(),o(3,"nav",1)(4,"button",2),l(5,"Paso 1"),r(),o(6,"button",2),l(7,"Paso 2"),r(),o(8,"button",2),l(9,"Paso 3"),r(),o(10,"button",2),l(11,"Resumen"),r()(),o(12,"section",3),_(13,"router-outlet"),r()()),i&2&&(d(4),m("routerLink",Ue(4,ao,t.itineraryId)),d(2),m("routerLink",Ue(6,ro,t.itineraryId)),d(2),m("routerLink",Ue(8,oo,t.itineraryId)),d(2),m("routerLink",Ue(10,so,t.itineraryId)))},dependencies:[ft,Fe,_t],styles:["*[_ngcontent-%COMP%], html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{font-family:Jura,sans-serif;font-size:1rem;font-weight:400}h1[_ngcontent-%COMP%]{font-size:1.7rem;font-weight:700;margin-bottom:1.5rem}h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1.5rem}h3[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:1rem}p[_ngcontent-%COMP%]{font-size:1rem;font-weight:400}.text-center[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{font-size:.9rem;border:none;border-radius:10px;padding:.7rem 0;cursor:pointer}button.primary[_ngcontent-%COMP%]{border:1px solid #106A8A;background-color:#106a8a;color:#fff}button.primary[_ngcontent-%COMP%]:hover{background-color:#fff;color:#106a8a}button.secondary[_ngcontent-%COMP%]{border:1px solid #16A8C1;background-color:#fff;color:#16a8c1}button.secondary[_ngcontent-%COMP%]:hover{background-color:#16a8c1;color:#fff}button.call-to-action[_ngcontent-%COMP%]{border:1px solid #F2C01C;background-color:#f2c01c;color:#000}button.call-to-action[_ngcontent-%COMP%]:hover{background-color:#fff;color:#f2c01c;font-weight:700}.btn-large[_ngcontent-%COMP%]{position:relative;justify-content:center;text-align:center;width:300px}.btn-large[_ngcontent-%COMP%]   .icon-right[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%)}.btn-large[_ngcontent-%COMP%]   .icon-left[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%)}.btn-small[_ngcontent-%COMP%]{position:relative;justify-content:center;text-align:center;width:150px}.btn-small[_ngcontent-%COMP%]   .icon-right[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%)}.btn-small[_ngcontent-%COMP%]   .icon-left[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%)}.btn-rounded[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border-radius:50%;width:36px;height:36px}a[_ngcontent-%COMP%]{font-size:1rem;text-decoration:none}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{font-weight:700;text-decoration:underline}.main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:1.5rem auto;width:80vw}.layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.flex-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;gap:1rem 0}.main-content[_ngcontent-%COMP%]{padding-top:80px;flex:1}@media (min-width: 769px){.main-content[_ngcontent-%COMP%]{padding-top:140px}}.error[_ngcontent-%COMP%]{color:red}#toast[_ngcontent-%COMP%]{visibility:hidden;min-width:250px;color:#fff;text-align:center;border-radius:10px;padding:16px;z-index:1;font-size:14px;margin-left:auto;margin-right:auto}#toast.requestOk[_ngcontent-%COMP%]{background-color:#16a8c1}#toast.requestKo[_ngcontent-%COMP%]{background-color:red}#toast.show[_ngcontent-%COMP%]{visibility:visible;-webkit-animation:_ngcontent-%COMP%_fadein .5s,fadeout .5s 2.5s;animation:_ngcontent-%COMP%_fadein .5s,fadeout .5s 2.5s}@-webkit-keyframes _ngcontent-%COMP%_fadein{0%{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@keyframes _ngcontent-%COMP%_fadein{0%{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@-webkit-keyframes _ngcontent-%COMP%_fadeout{0%{bottom:30px;opacity:1}to{bottom:0;opacity:0}}@keyframes _ngcontent-%COMP%_fadeout{0%{bottom:30px;opacity:1}to{bottom:0;opacity:0}}.edit-itinerary-container[_ngcontent-%COMP%]{padding:2rem;width:100%}.edit-itinerary-container[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:2rem}.edit-itinerary-container[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:1px solid #ccc;padding:.5rem 1rem;cursor:pointer}.edit-itinerary-container[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   button.activo[_ngcontent-%COMP%]{background-color:#16a8c1;color:#fff}.edit-itinerary-container[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]{border-top:1px solid #ccc;padding-top:1rem}"]})}}return n})();var lo=[{path:"",component:Qn},{path:"resultados",component:na},{path:"resultados/:id",component:Fn},{path:"crear-itinerario",component:ta,canActivate:[hi],children:[{path:"",redirectTo:"paso-1",pathMatch:"full"},{path:"paso-1",component:Fi},{path:"paso-2",component:Ni},{path:"paso-3",component:Li},{path:"resumen",component:Ti}]},{path:"editar",component:aa,canActivate:[hi],children:[{path:"",redirectTo:"paso-1",pathMatch:"full"},{path:"paso-1/:id",component:Fi},{path:"paso-2/:id",component:Ni},{path:"paso-3/:id",component:Li},{path:"resumen/:id",component:Ti}]}],ra=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=N({type:n})}static{this.\u0275inj=F({imports:[ai.forChild(lo),ai]})}}return n})();var yd=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=N({type:n})}static{this.\u0275inj=F({providers:[mn()],imports:[X,ra,Pn,we,Gn,Wn,Dn,Cn,hn,Nn,wn,kt,ia.forRoot()]})}}return n})();export{yd as ItinerariesModule};
